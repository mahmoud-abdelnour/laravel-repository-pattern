"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6690],{6690:(B,d,o)=>{o.r(d),o.d(d,{AttendanceModule:()=>L});var c=o(6895),u=o(9197),f=o(2252),p=o(1511),t=o(4650);const y=function(e){return[e]};let g=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-action"]],decls:2,vars:4,consts:[["target","_blank",1,"me-2",3,"routerLink"]],template:function(n,a){1&n&&(t.TgZ(0,"a",0),t._uU(1),t.qZA()),2&n&&(t.Q6J("routerLink",t.VKq(2,y,"/provider/attendance/list/"+(null==a.rowData||null==a.rowData.employee?null:a.rowData.employee.id))),t.xp6(1),t.hij(" ",null==a.rowData||null==a.rowData.employee?null:a.rowData.employee.name_ar,"\n"))},dependencies:[u.yS]}),e})();var v=o(5412),A=o(9242),C=o(3416),M=o(2278),F=o(8038),m=o(3546);const D=["dialog"],R=["table"];let h=(()=>{class e{constructor(n,a,l,T,U,Y){this.matDialog=n,this.apiService=a,this.translateService=l,this.themeService=T,this.datePipe=U,this.activatedRoute=Y,this.report_type=this.activatedRoute.snapshot.data.type,this.apiFunc=(r={})=>this.apiService.get(p.A.provider.attendance,{emp_id:this.id,...r}),this.settings={columns:{employee_name:{title:" \u0627\u0644\u0645\u0648\u0638\u0641 ",valuePrepareFunction:(r,s)=>s.employee.name_ar,renderComponent:g,type:f.Jm.Custom,sort:!1,filter:!1,onComponentInitFunction:r=>{r.parent=this}},day_counts:{title:" \u0639\u062f\u062f \u0627\u0644\u0627\u064a\u0627\u0645 ",type:"string",filter:!1,valuePrepareFunction:(r,s)=>s.employee?.attendances?.length},company_name:{title:" \u0627\u0644\u0634\u0631\u0643\u0629 ",type:"string",filter:!1,valuePrepareFunction:(r,s)=>s.employee.company.name_ar},date:{title:" \u062f\u062e\u0648\u0644 ",type:"string",filter:!1,hide:"detailed"!=this.report_type,valuePrepareFunction:(r,s)=>this.datePipe.transform(s.check_in,"yyyy/MM/dd h:mm a")},check_out:{title:" \u062e\u0631\u0648\u062c ",type:"string",hide:"detailed"!=this.report_type,filter:!1,valuePrepareFunction:(r,s)=>this.datePipe.transform(s.check_out,"yyyy/MM/dd h:mm a")}}}}ngOnInit(){this.id=this.activatedRoute.snapshot.params.id,this.id&&(this.apiService.get(p.A.provider.employees+"/"+this.id).subscribe(n=>{this.emp_name=n.employee.name_ar}),delete this.settings.columns.employee_name,delete this.settings.columns.day_counts),this.activatedRoute.data.subscribe(n=>{})}openDialog(n=null){this.matDialog.open(this.dialog,{data:{data:n}}).afterClosed().subscribe(l=>{console.log(`Dialog result: ${l}`)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.uw),t.Y36(A.s),t.Y36(C.sK),t.Y36(M.f),t.Y36(c.uU),t.Y36(u.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],viewQuery:function(n,a){if(1&n&&(t.Gf(D,5),t.Gf(R,5)),2&n){let l;t.iGM(l=t.CRH())&&(a.dialog=l.first),t.iGM(l=t.CRH())&&(a.table=l.first)}},features:[t._Bn([c.uU])],decls:9,vars:3,consts:[[1,"card-cont"],[1,"m-0"],[3,"settings","apiFunc"],["table",""]],template:function(n,a){1&n&&(t.TgZ(0,"section",0)(1,"h2"),t._uU(2," \u0627\u0644\u062d\u0636\u0648\u0631 \u0648\u0627\u0644\u0627\u0646\u0635\u0631\u0627\u0641 "),t.qZA(),t.TgZ(3,"mat-card")(4,"h3",1),t._uU(5),t.qZA(),t.TgZ(6,"mat-card-content"),t._UZ(7,"app-table",2,3),t.qZA()()()),2&n&&(t.xp6(5),t.Oqu(a.emp_name),t.xp6(2),t.Q6J("settings",a.settings)("apiFunc",a.apiFunc))},dependencies:[F.a,m.a8,m.dn],styles:["[_nghost-%COMP%]     angular2-smart-table-tag{display:none}"]}),e})();const P=[{path:"list",component:h},{path:"list/:id",component:h,data:{type:"detailed"}},{path:"",redirectTo:"list",pathMatch:"full"}];let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(P),u.Bz]}),e})();var S=o(5754);let L=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,Z,S.m]}),e})()}}]);