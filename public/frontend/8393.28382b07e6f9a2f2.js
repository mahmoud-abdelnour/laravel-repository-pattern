"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8393],{8393:(J,m,o)=>{o.r(m),o.d(m,{SettingsModule:()=>_});var g=o(6895),d=o(9197),n=o(4006),p=o(1511),c=o(8746),t=o(4650),v=o(9242),A=o(8015),Z=o(2278),S=o(2759),T=o(3546),b=o(4859),h=o(8796),f=o(4115),i=o(3848),r=o(1948);function C(u,a){if(1&u&&(t.TgZ(0,"div",7),t._UZ(1,"input",20),t.qZA()),2&u){const e=t.oxw();t.xp6(1),t.Q6J("placeholder","\u0627\u062f\u062e\u0644 \u0639\u062f\u062f \u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644")("value",null==e.settings?null:e.settings.task_period)}}const U=[{path:"",component:(()=>{class u{constructor(e,s,l){this.apiService=e,this.userService=s,this.themeService=l}ngOnInit(){this.form=new n.cw({task_assign_method:new n.NI(null,n.kI.required),task_period_method:new n.NI(null,n.kI.required),task_period:new n.NI(null),send_telework_report:new n.NI(null),conditions_page:new n.NI(null),privacy_page:new n.NI(null),terms_page:new n.NI(null)}),this.apiService.get(p.A.provider.settings).pipe((0,c.x)(()=>this.isSaving=!1)).subscribe(e=>{this.settings=e.settings,this.form.controls.task_assign_method.setValue(this.settings.task_assign_method),this.form.controls.task_period_method.setValue(this.settings.task_period_method),this.form.controls.task_period.setValue(this.settings.task_period),this.form.controls.send_telework_report.setValue(this.settings.send_telework_report),this.form.controls.conditions_page.setValue(this.settings.conditions_page),this.form.controls.privacy_page.setValue(this.settings.privacy_page),this.form.controls.terms_page.setValue(this.settings.terms_page),this.task_period_method=this.settings.task_period_method})}changeType(e){console.log(e),this.task_period_method="manual"==e.value?"manual":"automatic",this.form.controls.task_period.setValidators("manual"==e.value?n.kI.required:null),"manual"!=e.value&&this.form.controls.task_period.setValue(null),this.form.controls.task_period.updateValueAndValidity()}save(){console.log(this.form),!this.form.invalid&&(this.isSaving=!0,this.apiService.post(p.A.provider.updateSettings,this.form.value).pipe((0,c.x)(()=>this.isSaving=!1)).subscribe(e=>{this.themeService.openSnackBar("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b \u0628\u0646\u062c\u0627\u062d",null)}))}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(v.s),t.Y36(A.K),t.Y36(Z.f))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-settings"]],decls:45,vars:7,consts:[[1,"card-cont"],[3,"formGroup","ngSubmit"],[1,"col-md-12","mb-4","form-group"],["for",""],["color","primary","formControlName","task_assign_method",1,"d-flex",3,"value"],["value","automatic",1,"me-4"],["value","manual"],[1,"col-md-6","mb-4","form-group"],["color","primary","formControlName","task_period_method",1,"d-flex",3,"value","change"],["class","col-md-6 mb-4 form-group",4,"ngIf"],["formControlName","send_telework_report"],[3,"value"],["mat-align-tabs","start"],["label","\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0648\u0627\u0644\u0627\u0642\u0631\u0627\u0631"],["formControlName","conditions_page","rows","7","matInput",""],["label","\u0633\u064a\u0627\u0633\u064a\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629"],["formControlName","privacy_page","rows","7"],["label","\u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0627\u062d\u0643\u0627\u0645"],["formControlName","terms_page","rows","7"],["mat-button","","color","primary",1,"save",3,"disabled"],["validate-onblur","","type","number","formControlName","task_period",3,"placeholder","value"]],template:function(e,s){1&e&&(t.TgZ(0,"section",0)(1,"h2"),t._uU(2," \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a "),t.qZA(),t.TgZ(3,"mat-card")(4,"form",1),t.NdJ("ngSubmit",function(){return s.save()}),t.TgZ(5,"div",2)(6,"label",3),t._uU(7," \u062a\u0639\u064a\u064a\u0646 \u0627\u0644\u0645\u0647\u0627\u0645 "),t.qZA(),t.TgZ(8,"mat-radio-group",4)(9,"mat-radio-button",5),t._uU(10," \u0623\u0648\u062a\u0648\u0645\u0627\u062a\u064a\u0643 "),t.qZA(),t.TgZ(11,"mat-radio-button",6),t._uU(12," \u064a\u062f\u0648\u064a "),t.qZA()()(),t.TgZ(13,"div",7)(14,"label",3),t._uU(15," \u0639\u062f\u062f \u0633\u0627\u0639\u0627\u062a \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.TgZ(16,"mat-radio-group",8),t.NdJ("change",function(F){return s.changeType(F)}),t.TgZ(17,"mat-radio-button",5),t._uU(18," \u062a\u0648\u0644\u064a\u062f \u062a\u0644\u0642\u0627\u0626\u064a "),t.qZA(),t.TgZ(19,"mat-radio-button",6),t._uU(20," \u0645\u062d\u062f\u062f\u0629 "),t.qZA()()(),t.YNc(21,C,2,2,"div",9),t.TgZ(22,"div",2)(23,"label"),t._uU(24," \u062a\u0641\u0639\u064a\u0644 \u0627\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u0644 \u0645\u0646\u0635\u0629 \u0627\u0644\u0639\u0645\u0644 \u0639\u0646 \u0628\u0639\u062f "),t.TgZ(25,"ng-select",10)(26,"ng-option",11),t._uU(27,"\u062a\u0641\u0639\u064a\u0644 "),t.qZA(),t.TgZ(28,"ng-option",11),t._uU(29,"\u0627\u064a\u0642\u0627\u0641"),t.qZA()()()(),t._UZ(30,"hr")(31,"br"),t.TgZ(32,"h2"),t._uU(33," \u0627\u0644\u0635\u0641\u062d\u0627\u062a "),t.qZA(),t.TgZ(34,"mat-tab-group",12)(35,"mat-tab",13),t._UZ(36,"textarea",14),t.qZA(),t.TgZ(37,"mat-tab",15),t._UZ(38,"textarea",16),t.qZA(),t.TgZ(39,"mat-tab",17),t._UZ(40,"textarea",18),t.qZA()(),t._UZ(41,"br")(42,"br"),t.TgZ(43,"button",19),t._uU(44," \u062d\u0641\u0638 "),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("formGroup",s.form),t.xp6(4),t.Q6J("value",null==s.settings?null:s.settings.task_assign_method),t.xp6(8),t.Q6J("value",null==s.settings?null:s.settings.task_period_method),t.xp6(5),t.Q6J("ngIf","manual"==s.task_period_method),t.xp6(5),t.Q6J("value","on"),t.xp6(2),t.Q6J("value","off"),t.xp6(15),t.Q6J("disabled",s.isSaving))},dependencies:[g.O5,S.i,T.a8,b.lW,h.w9,h.jq,n._Y,n.Fj,n.wV,n.JJ,n.JL,n.sg,n.u,f.hL,f.J5,i.SP,i.uX,r.VQ,r.U0],styles:[".save[_ngcontent-%COMP%]{background-color:#195eaf;color:#fff}h2[_ngcontent-%COMP%]{color:#000;margin:0}textarea[_ngcontent-%COMP%]{width:95%;margin:2%;padding:15px}"]}),u})()}];let k=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[d.Bz.forChild(U),d.Bz]}),u})();var y=o(5754),N=o(7957);let _=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[g.ez,k,y.m,i.Nh,r.Fk,N.Bb]}),u})()}}]);