"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8131],{8131:(U,c,r)=>{r.r(c),r.d(c,{ForgetPasswordModule:()=>T});var m=r(6895),d=r(9197),a=r(4006),g=r(8746),l=r(7461),p=r(1511),t=r(4650),C=r(9242),P=r(8015),b=r(2278),f=r(3416),y=r(2759),h=r(3546),M=r(4859),v=r(4115);function Z(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",7)(1,"form",8),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.send())}),t.TgZ(2,"mat-card")(3,"mat-card-content")(4,"h4"),t._uU(5," \u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 "),t.qZA(),t.TgZ(6,"p"),t._uU(7," \u0627\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064a\u0629 "),t.qZA(),t.ynx(8),t.TgZ(9,"div",9),t._UZ(10,"input",10),t.ALo(11,"translate"),t.qZA(),t.BQk(),t.TgZ(12,"div",11)(13,"button",12),t._uU(14," \u0627\u0631\u0633\u0627\u0644 "),t.qZA()()()()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(9),t.Q6J("placeholder",t.lcZ(11,3,"IDNumber")),t.xp6(3),t.Q6J("disabled",e.isSending)}}function w(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",7)(1,"form",8),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.forget())}),t.TgZ(2,"mat-card")(3,"mat-card-content")(4,"h4"),t._uU(5," \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 "),t.qZA(),t.TgZ(6,"p"),t._uU(7," \u0627\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064a\u0629 \u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629 \u0644\u0644\u0645\u062a\u0627\u0628\u0639\u0629 "),t.qZA(),t.ynx(8),t.TgZ(9,"div",9),t._UZ(10,"input",10),t.ALo(11,"translate"),t.qZA(),t.BQk(),t.TgZ(12,"div",13),t._UZ(13,"input",14),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",13),t._UZ(16,"input",15),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",11)(19,"button",12),t._uU(20," \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u062c\u062f\u064a\u062f\u0629 "),t.qZA()()()()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(9),t.Q6J("placeholder",t.lcZ(11,5,"IDNumber")),t.xp6(3),t.Q6J("placeholder",t.lcZ(14,7,"Password")),t.xp6(3),t.Q6J("placeholder",t.lcZ(17,9,"ConfirmPassword")),t.xp6(3),t.Q6J("disabled",e.isSending)}}let x=(()=>{class o{constructor(e,n,i,u,J,I){this.apiService=e,this.router=n,this.userService=i,this.activatedRoute=u,this.themeService=J,this.translateService=I,this.UserType=l.F,this.loginOptions={[l.F.employee]:{url:"/auth/login/company",registerUrl:"/auth/register/employee",title:"LoginAsCompany"},[l.F.company]:{url:"/auth/login/employee",registerUrl:"/auth/register/company",title:"LoginAsEmployee"}},this.isSending=!1}ngOnInit(){this.token=this.activatedRoute.snapshot.params.token,this.formType=this.activatedRoute.snapshot.data.formType,console.log(this.activatedRoute.snapshot),this.createForm()}createForm(){"form"==this.formType?this.form=new a.cw({national_id:new a.NI(null,a.kI.required)}):(this.form=new a.cw({password:new a.NI(null,a.kI.required)}),this.form.addControl("national_id",new a.NI(null,a.kI.required)),this.form.addControl("password",new a.NI(null,a.kI.required)),this.form.addControl("password_confirmation",new a.NI(null,a.kI.required)),this.form.addControl("token",new a.NI(this.token)),this.form.updateValueAndValidity())}forget(){if(this.form.invalid)return;let e={...this.form.value};this.isSending=!0,this.apiService.post(p.A.forget_password,e).pipe((0,g.x)(()=>this.isSending=!1)).subscribe(n=>{if(n.errors){let u=this.translateService.instant(n.errors.email);this.themeService.openSnackBar(u,"","error")}else if(n.response){let u=this.translateService.instant(n.response);this.themeService.openSnackBar(u),"employee"==n.user.user_type?this.router.navigate(["/auth/login/employee"]):"company"==n.user.user_type?this.router.navigate(["/auth/login/company"]):"provider"==n.user.user_type&&this.router.navigate(["/auth/login-provider"])}})}send(){if(this.form.invalid)return;let e={...this.form.value};this.isSending=!0,this.apiService.post(p.A.request_forget_password,e).pipe((0,g.x)(()=>this.isSending=!1)).subscribe(n=>{if(n.errors){let i=this.translateService.instant(n.errors.email);this.themeService.openSnackBar(i,"","error")}else if(n.status){let i=this.translateService.instant(n.status);this.themeService.openSnackBar(i)}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.s),t.Y36(d.F0),t.Y36(P.K),t.Y36(d.gz),t.Y36(b.f),t.Y36(f.sK))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-forget-password"]],decls:14,vars:8,consts:[[1,"cont"],[1,"container"],[1,"row"],[1,"col-md-6","col-xl-5","info"],["src","./assets/imgs/app-logo3.png","alt",""],[1,"col-xl-2","d-none","d-xl-block"],["class","col-md-6 col-xl-5",4,"ngIf"],[1,"col-md-6","col-xl-5"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-4","mt-4"],["validate-onblur","","type","text","formControlName","national_id",3,"placeholder"],[1,"actions"],["mat-raised-button","",1,"primary",3,"disabled"],[1,"form-group","mb-4"],["validate-onblur","","type","text","type","password","formControlName","password",3,"placeholder"],["validate-onblur","","type","text","type","password","formControlName","password_confirmation",3,"placeholder"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"h1"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t._UZ(11,"div",5),t.YNc(12,Z,15,5,"div",6),t.YNc(13,w,21,11,"div",6),t.qZA()()()),2&e&&(t.xp6(6),t.hij(" ",t.lcZ(7,4,"loginTitle1")," "),t.xp6(3),t.hij(" ",t.lcZ(10,6,"loginTitle2")," "),t.xp6(3),t.Q6J("ngIf","form"==n.formType),t.xp6(1),t.Q6J("ngIf","form"!=n.formType))},dependencies:[m.O5,y.i,h.a8,h.dn,M.lW,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,v.hL,v.J5,f.X$],styles:["div.cont[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;align-items:center;background:linear-gradient(225deg,#154398 0%,#143F94,#208BE1,#208be1 100%),url(login-bg.056120122e878ead.png) center center;background-blend-mode:multiply;background-size:cover}.info[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:206px}.info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;margin-top:32px;font-size:32px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:-22px 0 0;font-size:18px;color:#fff}@media (min-width: 576px) and (max-width: 1199px){.container[_ngcontent-%COMP%]{max-width:100%!important;padding-right:1rem;padding-left:1rem}}@media (max-width: 767px){mat-card.mat-card[_ngcontent-%COMP%]{border-radius:16px;padding-top:3rem;padding-bottom:3rem;margin-top:2rem}}[dir=ltr]   [_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{border-radius:60px 0 0}[_nghost-%COMP%]   mat-tab-group[_ngcontent-%COMP%]     mat-tab-header{border-bottom:none}[_nghost-%COMP%]   mat-tab-group[_ngcontent-%COMP%]     mat-tab-header .mat-tab-labels{justify-content:center}[_nghost-%COMP%]   mat-tab-group[_ngcontent-%COMP%]     mat-tab-header .mat-tab-labels .mat-tab-label{font-size:16px;opacity:1}mat-card[_ngcontent-%COMP%]{padding:80px 60px;border-radius:0 60px 0 0;box-shadow:none}mat-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#208be1;font-size:24px;margin-bottom:0}mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:32px}mat-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f3f6f9;border-color:#fff}mat-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#208be1;text-decoration:none;font-size:14px}mat-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;display:block;border-radius:100px;height:46px;font-size:16px;box-shadow:none}mat-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]{background-color:#0069bd;color:#fff;margin-bottom:16px;margin-top:32px}mat-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.secondary[_ngcontent-%COMP%]{color:#0069bd;border:1px solid #0069BD}"]}),o})();const A=[{path:":token",component:x,data:{}},{path:"",component:x,data:{formType:"form"}}];let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(A),d.Bz]}),o})();var F=r(5754),S=r(3848);let T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.ez,O,F.m,S.Nh]}),o})()}}]);