"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7490],{7490:(N,d,a)=>{a.r(d),a.d(d,{CoursesModule:()=>j});var c=a(6895),f=a(9197),r=a(2252),g=a(1511),t=a(4650),T=a(7392),v=a(4859);let b=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-actions"]],hostAttrs:[1,"list-actions-btns"],decls:3,vars:0,consts:[["mat-button","",3,"click"],[1,"eye"]],template:function(o,n){1&o&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return n.parent.openDialog(n.rowData)}),t.TgZ(1,"mat-icon",1),t._uU(2,"visibility"),t.qZA()())},dependencies:[T.Hw,v.lW]}),e})();var l=a(5412),h=a(9242),C=a(3416),y=a(8038),Z=a(3546),s=a(4006),F=a(8746),U=a(8995),J=a(2278),m=a(4115),A=a(6709);function M(e,i){1&e&&(t.TgZ(0,"div",11)(1,"mat-checkbox",12),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0639\u0642\u062f \u0627\u0644\u062f\u0648\u0631\u0629")," "))}function S(e,i){if(1&e&&(t.TgZ(0,"button",13),t._uU(1," \u0642\u0628\u0648\u0644 \u0627\u0644\u062f\u0648\u0631\u0629 "),t.qZA()),2&e){const o=t.oxw();t.Q6J("disabled",o.isSaving)}}let x=(()=>{class e{constructor(o,n){this.apiService=o,this.themeService=n}ngOnInit(){this.form=new s.cw({acceptTerms:new s.NI(null,[s.kI.required,(0,U.v)()])}),this.data.pivot.approved==this.themeService.settings.EMP_COURSE_STATUS.enum.approved&&this.form.disable()}save(){this.form.invalid||(this.isSaving=!0,this.apiService.post(g.A.employee.accept_course_contract,{course_id:this.data.id,contract_content:this.data.course_contract_value}).pipe((0,F.x)(()=>this.isSaving=!1)).subscribe(o=>{console.log(o),this.ref.close(!0)}))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.s),t.Y36(J.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-course"]],hostAttrs:[1,"app-dialog"],inputs:{data:"data",ref:"ref"},decls:36,vars:11,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col-md-4","mb-4"],["for",""],[1,"col-md-12","mb-4"],["class","col-md-12 mb-4 form-group",4,"ngIf"],["align","end",1,"actions"],["type","button","mat-button","","mat-dialog-close","",1,"cancel"],["mat-button","","cdkFocusInitial","","class","save",3,"disabled",4,"ngIf"],[1,"col-md-12","mb-4","form-group"],["color","primary","formControlName","acceptTerms"],["mat-button","","cdkFocusInitial","",1,"save",3,"disabled"]],template:function(o,n){1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return n.save()}),t.TgZ(1,"h2",1),t._uU(2," \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0629 "),t.qZA(),t.TgZ(3,"mat-dialog-content",2)(4,"div",3)(5,"div",4)(6,"label",5),t._uU(7," \u0627\u0633\u0645 \u0627\u0644\u062f\u0648\u0631\u0629 "),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()(),t.TgZ(10,"div",4)(11,"label",5),t._uU(12," \u0627\u0644\u0633\u0639\u0631 "),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA()(),t.TgZ(15,"div",4)(16,"label",5),t._uU(17," \u0627\u0644\u0645\u062f\u0629 "),t.qZA(),t.TgZ(18,"p"),t._uU(19),t.qZA()(),t.TgZ(20,"div",6)(21,"label",5),t._uU(22," \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644 "),t.qZA(),t.TgZ(23,"p"),t._uU(24),t.qZA()(),t.TgZ(25,"div",6)(26,"label",5),t._uU(27," \u0639\u0642\u062f \u0627\u0644\u062f\u0648\u0631\u0629 "),t.qZA(),t.TgZ(28,"p"),t._uU(29),t.qZA()(),t.YNc(30,M,4,3,"div",7),t.qZA()(),t.TgZ(31,"mat-dialog-actions",8)(32,"button",9),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.YNc(35,S,2,1,"button",10),t.qZA()()),2&o&&(t.Q6J("formGroup",n.form),t.xp6(9),t.hij(" ",n.data.course_title," "),t.xp6(5),t.hij(" ",n.data.price," "),t.xp6(5),t.hij(" ",n.data.period," "),t.xp6(5),t.hij(" ",n.data.course_description," "),t.xp6(5),t.hij(" ",n.data.course_contract_value," "),t.xp6(1),t.Q6J("ngIf",!n.form.disabled),t.xp6(3),t.hij(" ",t.lcZ(34,9,"Back")," "),t.xp6(2),t.Q6J("ngIf",!n.form.disabled))},dependencies:[c.O5,v.lW,s._Y,s.JJ,s.JL,s.sg,s.u,l.ZT,l.uh,l.xY,l.H8,m.hL,m.J5,A.oG,C.X$],styles:[".cancel[_ngcontent-%COMP%]{color:#d33;border-color:#d33}label[_ngcontent-%COMP%]{color:#979797}p[_ngcontent-%COMP%]{color:var(--main-color);margin-bottom:0;margin-top:5px}[_nghost-%COMP%]   validation-error[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{margin-top:-10px}"]}),e})();const O=["dialog"],I=["table"];function L(e,i){if(1&e&&t._UZ(0,"app-course",4),2&e){const n=i.$implicit;t.Q6J("ref",i.dialogRef)("data",n.data)}}const Y=[{path:"",component:(()=>{class e{constructor(o,n,u,Q){this.matDialog=o,this.apiService=n,this.translateService=u,this.datePipe=Q,this.settings={columns:{course_title:{title:"\u0627\u0633\u0645 \u0627\u0644\u062f\u0648\u0631\u0629",type:r.Jm.Text,filter:!0},period:{title:"\u0627\u0644\u0645\u062f\u0629",type:r.Jm.Text,filter:!1},price:{title:"\u0627\u0644\u0633\u0639\u0631",type:r.Jm.Text,filter:!1},date:{title:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0631\u0634\u064a\u062d",type:r.Jm.Text,filter:!1,valuePrepareFunction:(p,G)=>this.datePipe.transform(G.pivot.created_at,"yyyy/MM/dd")},actions:{title:this.translateService.instant("Options"),type:r.Jm.Custom,renderComponent:b,sort:!1,filter:!1,onComponentInitFunction:p=>{p.parent=this}}}},this.apiFunc=(p={})=>this.apiService.get(g.A.employee.suggested_courses,p)}ngOnInit(){}openDialog(o=null){this.matDialog.open(this.dialog,{data:{data:o}}).afterClosed().subscribe(u=>{u&&this.table.reloadTable()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.uw),t.Y36(h.s),t.Y36(C.sK),t.Y36(c.uU))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],viewQuery:function(o,n){if(1&o&&(t.Gf(O,5),t.Gf(I,5)),2&o){let u;t.iGM(u=t.CRH())&&(n.dialog=u.first),t.iGM(u=t.CRH())&&(n.table=u.first)}},features:[t._Bn([c.uU])],decls:9,vars:2,consts:[[1,"card-cont"],[3,"settings","apiFunc"],["table",""],["dialog",""],[3,"ref","data"]],template:function(o,n){1&o&&(t.TgZ(0,"section",0)(1,"h2"),t._uU(2," \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0631\u0634\u062d\u0629 \u0644\u064a "),t.qZA(),t.TgZ(3,"mat-card")(4,"mat-card-content"),t._UZ(5,"app-table",1,2),t.qZA()()(),t.YNc(7,L,1,2,"ng-template",null,3,t.W1O)),2&o&&(t.xp6(5),t.Q6J("settings",n.settings)("apiFunc",n.apiFunc))},dependencies:[y.a,Z.a8,Z.dn,x]}),e})()},{path:"",redirectTo:"list",pathMatch:"full"}];let P=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(Y),f.Bz]}),e})();var R=a(5754);let j=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,P,R.m,A.p9,m.h2.forRoot({blueprints:{checkError:"\u064a\u062c\u0628 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0639\u0642\u062f"}})]}),e})()}}]);