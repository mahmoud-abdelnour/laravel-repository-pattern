"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6372],{6372:(F,p,l)=>{l.r(p),l.d(p,{ReportsModule:()=>M});var r=l(6895),s=l(9197),a=l(1511),i=l(4006),t=l(4650),c=l(9242),g=l(2278),_=l(4859),m=l(8796),d=l(4115);function Z(n,o){if(1&n&&(t.TgZ(0,"ng-option",11),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name_ar," ")}}function A(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA()()),2&n){const e=o.$implicit,u=o.index;t.xp6(2),t.Oqu(u+1),t.xp6(2),t.Oqu(e.name_ar),t.xp6(2),t.Oqu(t.xi3(7,4,null==e||null==e.pivot?null:e.pivot.work_start_date,"yyyy/MM/dd")),t.xp6(3),t.Oqu(e.tasks.length)}}function h(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"h3",12),t._uU(2,"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),t.qZA(),t.TgZ(3,"table")(4,"tr")(5,"th"),t._uU(6,"#"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"\u0627\u0644\u0645\u0648\u0638\u0641"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0639\u0627\u0642\u062f"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"\u0639\u062f\u062f \u0627\u0644\u0645\u0647\u0627\u0645"),t.qZA()(),t.YNc(13,A,10,7,"tr",13),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(13),t.Q6J("ngForOf",null==e.filters?null:e.filters.employees)}}function v(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA()()),2&n){const e=o.$implicit,u=o.index;t.xp6(2),t.Oqu(u+1),t.xp6(2),t.Oqu(null==e||null==e.task?null:e.task.task_title),t.xp6(2),t.Oqu(t.xi3(7,3,e.created_at,"yyyy/MM/dd"))}}function y(n,o){if(1&n&&(t.TgZ(0,"div")(1,"h4",12),t._uU(2,"\u0627\u0644\u0645\u0647\u0627\u0645"),t.qZA(),t.TgZ(3,"table")(4,"tr")(5,"th"),t._uU(6,"#"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"\u0627\u0644\u0645\u0647\u0645\u0629"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u0646\u0627\u062f"),t.qZA()(),t.YNc(11,v,8,6,"tr",13),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(11),t.Q6J("ngForOf",null==e.filters?null:e.filters.employee.tasks)}}function T(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&n){const e=o.$implicit,u=o.index;t.xp6(2),t.Oqu(u+1),t.xp6(2),t.Oqu(e.check_in),t.xp6(2),t.Oqu(e.check_out)}}function q(n,o){if(1&n&&(t.TgZ(0,"div")(1,"h4",12),t._uU(2,"\u0627\u0644\u062d\u0636\u0648\u0631 \u0648\u0627\u0644\u0627\u0646\u0635\u0631\u0627\u0641"),t.qZA(),t.TgZ(3,"table")(4,"tr")(5,"th"),t._uU(6,"#"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"\u062f\u062e\u0648\u0644"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"\u062e\u0631\u0648\u062c"),t.qZA()(),t.YNc(11,T,7,3,"tr",13),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(11),t.Q6J("ngForOf",null==e.filters?null:e.filters.employee.attendances)}}function x(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"h3",12),t._uU(2),t.qZA(),t.YNc(3,y,12,1,"div",10),t.YNc(4,q,12,1,"div",10),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(null==e.filters?null:e.filters.employee.name_ar),t.xp6(1),t.Q6J("ngIf",null==e.filters?null:e.filters.employee.tasks),t.xp6(1),t.Q6J("ngIf",null==e.filters?null:e.filters.employee.attendances)}}const U=[{path:"",component:(()=>{class n{constructor(e,u,f,J){this.apiService=e,this.themeService=u,this.datePipe=f,this.activatedRoute=J}ngOnInit(){this.form=new i.cw({task_id:new i.NI,job_id:new i.NI,emp_id:new i.NI}),this.apiService.get(a.A.company.filter_data,{limit:!1}).subscribe(e=>{this.employees=e.employees,this.filter_data=e})}filter(){let e={...this.form.value};e.date_from=this.datePipe.transform(e.date_from,"yyyy/MM/dd"),e.date_to=this.datePipe.transform(e.date_to,"yyyy/MM/dd"),this.apiService.get(a.A.company.reports,e).subscribe(u=>{this.filters=u,this.process_filter()},u=>{})}process_filter(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.s),t.Y36(g.f),t.Y36(r.uU),t.Y36(s.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reports"]],features:[t._Bn([r.uU])],decls:17,vars:7,consts:[[1,"page_title"],[2,"margin-top","60px"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-4","form-group","mb-4"],["for","employee_select"],["formControlName","emp_id","appendTo","body"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit",1,"save",3,"disabled"],[4,"ngIf"],[3,"value"],[1,"mt-5"],[4,"ngFor","ngForOf"]],template:function(e,u){1&e&&(t.TgZ(0,"h2",0),t._uU(1," \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631\n"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2),t.NdJ("ngSubmit",function(){return u.filter()}),t.TgZ(4,"div",3)(5,"div",4)(6,"label",5),t._uU(7," \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646 "),t.qZA(),t.TgZ(8,"ng-select",6)(9,"ng-option",7),t._uU(10,"\u0627\u062e\u062a\u0631 \u0645\u0648\u0638\u0641"),t.qZA(),t.YNc(11,Z,2,2,"ng-option",8),t.qZA()()(),t.TgZ(12,"button",9),t._uU(13," \u0641\u0631\u0632 "),t.qZA()(),t.TgZ(14,"div",3),t.YNc(15,h,14,1,"ng-container",10),t.YNc(16,x,5,3,"ng-container",10),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",u.form),t.xp6(2),t.ekj("col-md-6","employee"==u.form.value.report_type||"course"==u.form.value.report_type),t.xp6(6),t.Q6J("ngForOf",null==u.filter_data?null:u.filter_data.employees),t.xp6(1),t.Q6J("disabled",u.isSending),t.xp6(3),t.Q6J("ngIf",null==u.filters?null:u.filters.employees),t.xp6(1),t.Q6J("ngIf",null==u.filters?null:u.filters.employee))},dependencies:[r.sg,r.O5,_.lW,m.w9,m.jq,i._Y,i.JJ,i.JL,i.sg,i.u,d.hL,d.J5,r.uU],styles:[".page_title[_ngcontent-%COMP%]{color:#fff}.date-input-cont[_ngcontent-%COMP%]{position:relative}.date-input-cont[_ngcontent-%COMP%]   mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;left:8px;top:2px}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{text-align:right}"]}),n})()}];let R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.Bz.forChild(U),s.Bz]}),n})();var C=l(4509),O=l(5754);let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[r.ez,R,C.ReportsModule,O.m]}),n})()}}]);