"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1710],{1710:(J,y,s)=>{s.r(y),s.d(y,{CompaniesModule:()=>vt});var a=s(6895),l=s(9197),d=s(1511),t=s(4650),h=s(5412),P=s(9242),f=s(3416),A=s(2278),C=s(9807),v=s(7392),Z=s(3546),M=s(4859),T=s(3848),b=s(2252),_=s(8674),x=s(9134),p=s(4763);function O(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.parent.banCompany(i.rowData))}),t.TgZ(1,"mat-icon",4),t._uU(2," hide_source "),t.qZA()()}}function S(o,c){if(1&o&&(t.ynx(0),t.YNc(1,O,3,0,"button",2),t.BQk()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.rowData.status!==n.themeService.settings.COMPANY_STATUS.enum.banned)}}function I(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.parent.openCompany(i.rowData,2))}),t.TgZ(1,"mat-icon",5),t._uU(2," payments "),t.qZA()()}}function L(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.parent.openCompany(i.rowData))}),t.TgZ(1,"mat-icon",6),t._uU(2," verified "),t.qZA()()}}function k(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.parent.popDelete(i.rowData))}),t.TgZ(1,"mat-icon",7),t._uU(2," delete "),t.qZA()()}}let Q=(()=>{class o{constructor(n){this.themeService=n,this.FormMode=p.h}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(A.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-actions"]],hostAttrs:[1,"list-actions-btns"],decls:4,vars:4,consts:[[4,"appPerm"],["mat-button","",3,"click",4,"appPerm"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],[1,"ban"],[1,"payments"],["color","primary"],["color","warn"]],template:function(n,e){1&n&&(t.YNc(0,S,2,1,"ng-container",0),t.YNc(1,I,3,0,"button",1),t.YNc(2,L,3,0,"button",1),t.YNc(3,k,3,0,"button",1)),2&n&&(t.Q6J("appPerm","ban_company"),t.xp6(1),t.Q6J("appPerm","admit_company"),t.xp6(1),t.Q6J("appPerm","admit_company"),t.xp6(1),t.Q6J("appPerm","delete_company"))},dependencies:[a.O5,C.$,v.Hw,M.lW],styles:[".assign[_ngcontent-%COMP%]{color:#009688}.ban[_ngcontent-%COMP%]{color:#263238}.payments[_ngcontent-%COMP%]{color:#2e7d32}"]}),o})();var F=s(8038),r=s(4006),D=s(8746);function j(o,c){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",2),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.parent.takeAction(i.rowData,i.themeService.settings.COMPANY_SUBSCRIPTION_APPROVE.enum.approved))}),t.TgZ(2,"mat-icon",3),t._uU(3," done "),t.qZA()(),t.TgZ(4,"button",2),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.parent.takeAction(i.rowData,i.themeService.settings.COMPANY_SUBSCRIPTION_APPROVE.enum.rejected))}),t.TgZ(5,"mat-icon",4),t._uU(6," close "),t.qZA()(),t.BQk()}}function Y(o,c){if(1&o&&(t.ynx(0),t.YNc(1,j,7,0,"ng-container",1),t.BQk()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.rowData.is_approved==n.themeService.settings.COMPANY_SUBSCRIPTION_APPROVE.enum.pending)}}let B=(()=>{class o{constructor(n){this.themeService=n}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(A.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-payment-actions"]],hostAttrs:[1,"list-actions-btns"],decls:1,vars:1,consts:[[4,"appPerm"],[4,"ngIf"],["mat-button","",3,"click"],[1,"primary"],["color","warn"]],template:function(n,e){1&n&&t.YNc(0,Y,2,1,"ng-container",0),2&n&&t.Q6J("appPerm","admit_company")},dependencies:[a.O5,C.$,v.Hw,M.lW]}),o})();var q=s(1679),U=s(4115);const R=["paymentTable"];function G(o,c){if(1&o&&(t.TgZ(0,"div",17)(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-file-input",18),t.qZA()),2&o){const n=c.$implicit,e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,n)," "),t.xp6(2),t.Q6J("control",e.form.controls[n])}}function H(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.save())}),t._uU(1," \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0634\u0631\u0643\u0629 "),t.qZA()}if(2&o){const n=t.oxw(2);t.Q6J("disabled",n.isSaving)}}function K(o,c){if(1&o&&(t.ynx(0),t.YNc(1,H,2,1,"button",19),t.BQk()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.data.status!==n.themeService.settings.COMPANY_STATUS.enum.active)}}let W=(()=>{class o{constructor(n,e,i,u){this.apiService=n,this.themeService=e,this.translateService=i,this.matDialog=u,this.selectedIndex=0,this.apiFunc=()=>this.apiService.get(`${d.A.provider.companies}/${this.data.id}/payments`),this.settings={columns:{month:{title:"\u0627\u0644\u0634\u0647\u0631",type:b.Jm.Text,filter:!1},payment_amount:{title:"\u0627\u0644\u0645\u0628\u0644\u063a",type:b.Jm.Text,valuePrepareFunction:(m,g)=>(m||0)+" \u0631\u064a\u0627\u0644 ",filter:!1},payment_file_url:{title:"\u0631\u0627\u0628\u0637 \u0627\u0644\u0625\u064a\u0635\u0627\u0644",type:b.Jm.Html,valuePrepareFunction:(m,g)=>`<a href="${m}" target="_blank"> \u0631\u0627\u0628\u0637 \u0627\u0644\u0625\u064a\u0635\u0627\u0644 </a>`,filter:!1},approved_by_user:{title:"\u062a\u0641\u0639\u064a\u0644 \u0628\u0648\u0627\u0633\u0637\u0629",type:b.Jm.Text,filter:!1},is_approved:{title:"\u0627\u0644\u062d\u0627\u0644\u0629",type:b.Jm.Custom,filter:!1,renderComponent:x.p,onComponentInitFunction:m=>{m.statusEnum=this.themeService.settings.COMPANY_SUBSCRIPTION_APPROVE.enum}},actions:{title:this.translateService.instant("Options"),type:b.Jm.Custom,renderComponent:B,sort:!1,filter:!1,onComponentInitFunction:m=>m.parent=this}}},this.files=["commercial_record_file","tax_registration_certificate_file","national_address_file"],this.isSaving=!1}ngOnInit(){this.form=new r.cw({});for(let n of this.files)this.form.addControl(n,new r.NI({value:this.data[n+"_url"],disabled:!0}))}takeAction(n,e){let i=this.themeService.settings.COMPANY_SUBSCRIPTION_APPROVE.enum,u=this.matDialog.open(_.F);u.componentInstance.header=i[e]+"PaymentTitle",u.componentInstance.body=i[e]+"PaymentMSG",u.componentInstance.confirmBtn=i[e]+"PaymentBtn",u.afterClosed().subscribe(m=>{m&&this.apiService.put(d.A.provider.companies+"/payments/"+n.id,{status:e}).subscribe(g=>{this.themeService.openSnackBar("SavedSuccessfully",null),this.paymentTable.reloadTable()})})}save(){this.isSaving=!0,this.apiService.put(`${d.A.provider.companies}/${this.data.id}/admit`).pipe((0,D.x)(()=>this.isSaving=!1)).subscribe(n=>{this.themeService.openSnackBar("SavedSuccessfully",null),this.ref.close(!0)})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(P.s),t.Y36(A.f),t.Y36(f.sK),t.Y36(h.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-company-dialog"]],viewQuery:function(n,e){if(1&n&&t.Gf(R,5),2&n){let i;t.iGM(i=t.CRH())&&(e.paymentTable=i.first)}},inputs:{data:"data",ref:"ref",selectedIndex:"selectedIndex"},decls:58,vars:17,consts:[[3,"formGroup"],["mat-dialog-title",""],[1,"mat-typography"],["mat-stretch-tabs","false","mat-align-tabs","center",3,"selectedIndex"],["label","\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0634\u0631\u0643\u0629"],[1,"row"],[1,"col-md-4"],[3,"value"],["label","\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062a"],["class","mt-4 mb-4 file-item",4,"ngFor","ngForOf"],["label","\u0627\u0644\u062f\u0641\u0639\u0627\u062a"],[1,"mt-4","mb-4"],[3,"settings","apiFunc"],["paymentTable",""],["align","end",1,"actions"],["type","button","mat-button","","mat-dialog-close","",1,"cancel"],[4,"appPerm"],[1,"mt-4","mb-4","file-item"],[3,"control"],["mat-button","","cdkFocusInitial","","class","save",3,"disabled","click",4,"ngIf"],["mat-button","","cdkFocusInitial","",1,"save",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"form",0)(1,"h2",1),t._uU(2," \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0634\u0631\u0643\u0629 "),t.qZA(),t.TgZ(3,"mat-dialog-content",2)(4,"mat-tab-group",3)(5,"mat-tab",4)(6,"section")(7,"div",5)(8,"div",6)(9,"h3"),t._uU(10," \u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 "),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA()(),t.TgZ(13,"div",6)(14,"h3"),t._uU(15," \u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629 "),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.qZA()(),t.TgZ(18,"div",6)(19,"h3"),t._uU(20," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a "),t.qZA(),t.TgZ(21,"p"),t._uU(22),t.qZA()(),t.TgZ(23,"div",6)(24,"h3"),t._uU(25," \u0631\u0642\u0645 \u0627\u0644\u0633\u062c\u0644 \u0627\u0644\u062a\u062c\u0627\u0631\u0649 "),t.qZA(),t.TgZ(26,"p"),t._uU(27),t.qZA()(),t.TgZ(28,"div",6)(29,"h3"),t._uU(30," \u0631\u0642\u0645 \u0627\u0644\u0645\u0646\u0634\u0623\u0629 "),t.qZA(),t.TgZ(31,"p"),t._uU(32),t.qZA()(),t.TgZ(33,"div",6)(34,"h3"),t._uU(35," \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 "),t.qZA(),t.TgZ(36,"p"),t._uU(37),t.qZA()(),t.TgZ(38,"div",6)(39,"h3"),t._uU(40," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0648\u0637\u0646\u0649 "),t.qZA(),t.TgZ(41,"p"),t._uU(42),t.qZA()(),t.TgZ(43,"div",6)(44,"h3"),t._uU(45," \u062d\u0627\u0644\u0629 \u0627\u0644\u0634\u0631\u0643\u0629 "),t.qZA(),t._UZ(46,"app-table-status",7),t.qZA()()()(),t.TgZ(47,"mat-tab",8),t.YNc(48,G,5,4,"div",9),t.qZA(),t.TgZ(49,"mat-tab",10)(50,"div",11),t._UZ(51,"app-table",12,13),t.qZA()()()(),t.TgZ(53,"mat-dialog-actions",14)(54,"button",15),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.YNc(57,K,2,1,"ng-container",16),t.qZA()()),2&n&&(t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("selectedIndex",e.selectedIndex),t.xp6(8),t.hij(" ",e.data.name_ar," "),t.xp6(5),t.hij(" ",e.data.name_en," "),t.xp6(5),t.hij(" ",e.data.email," "),t.xp6(5),t.hij(" ",e.data.commercial_record," "),t.xp6(5),t.hij(" ",e.data.national_address_building_no," "),t.xp6(5),t.hij(" ",e.data.mobile," "),t.xp6(5),t.hij(" ",e.data.national_address_extra," "),t.xp6(4),t.Q6J("value",e.data.status),t.xp6(2),t.Q6J("ngForOf",e.files),t.xp6(3),t.Q6J("settings",e.settings)("apiFunc",e.apiFunc),t.xp6(4),t.hij(" ",t.lcZ(56,15,"Back")," "),t.xp6(2),t.Q6J("appPerm","admit_company"))},dependencies:[a.sg,a.O5,F.a,q.Y,x.p,C.$,M.lW,r._Y,r.JL,r.sg,h.ZT,h.uh,h.xY,h.H8,U.hL,T.SP,T.uX,f.X$],styles:["h3[_ngcontent-%COMP%]{margin-bottom:0;color:var(--label-color)}p[_ngcontent-%COMP%]{margin-top:0}section[_ngcontent-%COMP%]{padding:2rem 0}mat-dialog-content[_ngcontent-%COMP%]{min-height:400px}"]}),o})();const $=["table"],z=["companyDialog"];function X(o,c){if(1&o&&t._UZ(0,"app-company-dialog",4),2&o){const n=c.dialogRef,e=c.$implicit;t.Q6J("data",e.data)("ref",n)("selectedIndex",e.selectedIndex)}}let V=(()=>{class o{constructor(n,e,i,u,m){this.matDialog=n,this.apiService=e,this.translateService=i,this.datePipe=u,this.themeService=m,this.settings={columns:{name_ar:{title:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629",type:b.Jm.Text,filter:!0},approved_at:{title:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0639\u0627\u0642\u062f",type:b.Jm.Text,valuePrepareFunction:(g,At)=>this.datePipe.transform(g,"yyyy/MM/dd")},approved_by_user:{title:"\u062a\u0641\u0639\u064a\u0644 \u0628\u0648\u0627\u0633\u0637\u0629",type:b.Jm.Text},status:{title:"\u0627\u0644\u062d\u0627\u0644\u0629",type:b.Jm.Custom,filter:!1,renderComponent:x.p,onComponentInitFunction:g=>{g.statusEnum=this.themeService.settings.COMPANY_STATUS.enum}},actions:{title:this.translateService.instant("Options"),type:b.Jm.Custom,renderComponent:Q,sort:!1,filter:!1,onComponentInitFunction:g=>g.parent=this}}}}ngOnInit(){}popDelete(n){this.rowToDelete=n.id;let e=this.matDialog.open(_.F,{data:{parent:this}});e.componentInstance.header="DeleteCompanyTitle",e.componentInstance.body="DeleteCompanyMSG"}delete(){this.apiService.delete(d.A.provider.companies+"/"+this.rowToDelete).subscribe(n=>{this.themeService.openSnackBar("DeleteSuccessMSG",null),this.updateTables()})}banCompany(n){let e=this.matDialog.open(_.F);e.componentInstance.header="BanCompanyTitle",e.componentInstance.body="BanCompanyMSG",e.componentInstance.confirmBtn="BanBtn",e.afterClosed().subscribe(i=>{i&&this.apiService.put(d.A.provider.companies+"/"+n.id+"/ban").subscribe(u=>{this.themeService.openSnackBar("BanSuccessMSG",null),this.updateTables()})})}openCompany(n,e=0){this.matDialog.open(this.companyDialog,{data:{data:n,selectedIndex:e},width:"90vw"}).afterClosed().subscribe(u=>{u&&this.updateTables()})}updateTables(){this.table.reloadTable();for(let n of this.lists)n.table.reloadTable()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(h.uw),t.Y36(P.s),t.Y36(f.sK),t.Y36(a.uU),t.Y36(A.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list"]],viewQuery:function(n,e){if(1&n&&(t.Gf($,5),t.Gf(z,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.table=i.first),t.iGM(i=t.CRH())&&(e.companyDialog=i.first)}},inputs:{apiFunc:"apiFunc",lists:"lists",paginationId:"paginationId"},features:[t._Bn([a.uU])],decls:5,vars:3,consts:[[1,"mt-5","mb-5"],[3,"paginationId","settings","apiFunc"],["table",""],["companyDialog",""],[3,"data","ref","selectedIndex"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"app-table",1,2),t.qZA(),t.YNc(3,X,1,3,"ng-template",null,3,t.W1O)),2&n&&(t.xp6(1),t.Q6J("paginationId",e.paginationId)("settings",e.settings)("apiFunc",e.apiFunc))},dependencies:[F.a,W]}),o})();var E=s(8796);const tt=["select2"],nt=["select"],et=["select3"];function ot(o,c){if(1&o&&(t.TgZ(0,"ng-option",15),t._uU(1),t.qZA()),2&o){const n=c.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij(" ",n.name_ar," ")}}function at(o,c){if(1&o&&(t.TgZ(0,"ng-option",15),t._uU(1),t.qZA()),2&o){const n=c.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij(" ",n.name_ar," ")}}function it(o,c){if(1&o&&(t.TgZ(0,"ng-option",15),t._uU(1),t.qZA()),2&o){const n=c.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij(" ",n.job_title," ")}}let rt=(()=>{class o{constructor(n,e){this.apiService=n,this.themeService=e,this.isSaving=!1}ngOnInit(){this.form=new r.cw({company_id:new r.NI(null,r.kI.required),candidate_id:new r.NI(null,[r.kI.required]),job_id:new r.NI(null,[r.kI.required])}),this.data&&this.form.patchValue(this.data),this.apiService.get(d.A.provider.candidates,{source:"provider"}).subscribe(n=>{this.candidates=n.data}),this.apiService.get(d.A.provider.companies).subscribe(n=>{this.companies=n.data}),this.apiService.get(d.A.provider.jobs).subscribe(n=>{this.jobs=n.data})}OnSearchCandidate(n){this.selectCandidate.open(),console.log(n.term),this.getCandidates(n.term)}OnSearchCompany(n){this.selectComp.open(),console.log(n.term),this.getCompanies(n.term)}OnSearchJob(n){this.selectJob.open(),console.log(n.term),this.getJobs(n.term)}getCandidates(n){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.apiService.get(d.A.provider.candidates,{name_ar:n,limit:!1,source:"provider"}).subscribe(e=>{this.candidates=e.data})}getCompanies(n){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.apiService.get(d.A.provider.companies,{name_ar:n,limit:!1}).subscribe(e=>{this.companies=e.data})}getJobs(n){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.apiService.get(d.A.provider.companies,{job_title:n,limit:!1}).subscribe(e=>{this.jobs=e.data})}cancel(){}save(){this.isSaving=!0,console.log(this.form),!this.form.invalid&&this.apiService.post(d.A.provider.assign_candidate_to_company,this.form.value).pipe((0,D.x)(()=>this.isSaving=!1)).subscribe(n=>{this.themeService.openSnackBar("SavedSuccessfully",null),this.ref.close(!0)})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(P.s),t.Y36(A.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-assign-candidate"]],viewQuery:function(n,e){if(1&n&&(t.Gf(tt,5),t.Gf(nt,5),t.Gf(et,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.selectCandidate=i.first),t.iGM(i=t.CRH())&&(e.selectComp=i.first),t.iGM(i=t.CRH())&&(e.selectJob=i.first)}},inputs:{ref:"ref",data:"data",mode:"mode"},decls:32,vars:10,consts:[[3,"formGroup"],[1,"m-0"],[1,"row"],[1,"col-md-6","form-group","mb-4"],["formControlName","candidate_id",3,"search","blur"],["select2",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","company_id",3,"search","blur"],["select",""],[1,"col-md-12","form-group","mb-4"],["formControlName","job_id",3,"search","blur"],["select3",""],[1,"d-flex","align-items-center","justify-content-betweens"],["type","button","mat-raised-button","","mat-dialog-close","",1,"cancel"],["mat-button","","color","primary","mat-raised-button","",1,"SaveBtn",3,"click"],[3,"value"]],template:function(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"form",0)(1,"mat-card-subtitle")(2,"h2",1),t._uU(3,"\u062a\u0648\u0638\u064a\u0641 \u0645\u0631\u0634\u062d \u0628\u0634\u0631\u0643\u0629"),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"section")(6,"div",2)(7,"div",3)(8,"div"),t._uU(9,"\u0627\u0644\u0645\u0631\u0634\u062d"),t.qZA(),t.TgZ(10,"ng-select",4,5),t.NdJ("search",function(m){return t.CHM(i),t.MAs(11).open(),t.KtG(e.OnSearchCandidate(m))})("blur",function(){return e.selectCandidate.close()}),t.YNc(12,ot,2,2,"ng-option",6),t.qZA()(),t.TgZ(13,"div",3)(14,"div"),t._uU(15,"\u0627\u0644\u0634\u0631\u0643\u0629"),t.qZA(),t.TgZ(16,"ng-select",7,8),t.NdJ("search",function(m){return t.CHM(i),t.MAs(17).open(),t.KtG(e.OnSearchCompany(m))})("blur",function(){return e.selectComp.close()}),t.YNc(18,at,2,2,"ng-option",6),t.qZA()(),t.TgZ(19,"div",9)(20,"div"),t._uU(21,"\u0627\u0644\u0648\u0638\u064a\u0641\u0629"),t.qZA(),t.TgZ(22,"ng-select",10,11),t.NdJ("search",function(m){return t.CHM(i),t.MAs(17).open(),t.KtG(e.OnSearchJob(m))})("blur",function(){return e.selectJob.close()}),t.YNc(24,it,2,2,"ng-option",6),t.qZA()()()()(),t.TgZ(25,"mat-card-actions",12)(26,"button",13),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"button",14),t.NdJ("click",function(){return e.save()}),t._uU(30),t.ALo(31,"translate"),t.qZA()()()}2&n&&(t.Q6J("formGroup",e.form),t.xp6(12),t.Q6J("ngForOf",e.candidates),t.xp6(6),t.Q6J("ngForOf",e.companies),t.xp6(6),t.Q6J("ngForOf",e.jobs),t.xp6(3),t.hij(" ",t.lcZ(28,6,"Cancel")," "),t.xp6(3),t.hij(" ",t.lcZ(31,8,"Save")," "))},dependencies:[a.sg,Z.dn,Z.$j,Z.hq,M.lW,E.w9,E.jq,r._Y,r.JJ,r.JL,r.sg,r.u,h.ZT,U.hL,U.J5,f.X$],styles:[".SaveBtn[_ngcontent-%COMP%]{background-color:var(--input-color)}mat-card-subtitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0!important}"]}),o})();const ct=["dialog"],lt=["table"];function st(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"mat-card-header")(1,"div",13)(2,"button",14),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.openDialog(""))}),t.TgZ(3,"mat-icon"),t._uU(4,"assignment_ind"),t.qZA(),t._uU(5," \u062a\u0648\u0638\u064a\u0641 \u062c\u062f\u064a\u062f "),t.qZA(),t._UZ(6,"div"),t.TgZ(7,"button",15)(8,"mat-icon"),t._uU(9,"add"),t.qZA(),t._uU(10," \u0625\u0636\u0627\u0641\u0629 "),t.qZA()()()}2&o&&(t.xp6(7),t.Q6J("routerLink","/provider/companies/create"))}function ut(o,c){if(1&o&&t._UZ(0,"app-assign-candidate",16),2&o){const e=c.$implicit;t.Q6J("ref",c.dialogRef)("data",e)}}const N=function(o,c){return[o,c]};let pt=(()=>{class o{constructor(n,e,i,u,m){this.matDialog=n,this.apiService=e,this.translateService=i,this.datePipe=u,this.themeService=m,this.activeApiFunc=(g={})=>this.apiService.get(d.A.provider.companies,g),this.pendingApiFunc=(g={})=>this.apiService.get(d.A.provider.pending_companies,g),this.banApiFunc=(g={})=>this.apiService.get(d.A.provider.banned_companies,g)}ngOnInit(){}openDialog(n){this.matDialog.open(this.dialog,{data:{data:n},width:"80vw"})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(h.uw),t.Y36(P.s),t.Y36(f.sK),t.Y36(a.uU),t.Y36(A.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-companies"]],viewQuery:function(n,e){if(1&n&&(t.Gf(ct,5),t.Gf(lt,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.dialog=i.first),t.iGM(i=t.CRH())&&(e.table=i.first)}},features:[t._Bn([a.uU])],decls:18,vars:19,consts:[[1,"card-cont"],[4,"appPerm"],["mat-align-tabs","center"],["label","\u0627\u0644\u0634\u0631\u0643\u0627\u062a \u0627\u0644\u0645\u0641\u0639\u0644\u0629"],["paginationId","list1",3,"apiFunc","lists"],["list1",""],["label","\u0627\u0644\u0634\u0631\u0643\u0627\u062a \u0642\u064a\u062f \u0627\u0644\u062a\u0641\u0639\u064a\u0644"],["paginationId","list2",3,"apiFunc","lists"],["list2",""],["label","\u0627\u0644\u0634\u0631\u0643\u0627\u062a \u0627\u0644\u0645\u062d\u0638\u0648\u0631\u0629"],["paginationId","list3",3,"apiFunc","lists"],["list3",""],["dialog",""],[1,"d-flex","align-items-center","justify-content-end"],["mat-raised-button","",1,"add-btn","mr-5",3,"click"],["mat-raised-button","",1,"add-btn",3,"routerLink"],["app-create","",3,"ref","data"]],template:function(n,e){if(1&n&&(t.TgZ(0,"section",0)(1,"h2"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-card"),t.YNc(5,st,11,1,"mat-card-header",1),t.TgZ(6,"mat-tab-group",2)(7,"mat-tab",3),t._UZ(8,"app-list",4,5),t.qZA(),t.TgZ(10,"mat-tab",6),t._UZ(11,"app-list",7,8),t.qZA(),t.TgZ(13,"mat-tab",9),t._UZ(14,"app-list",10,11),t.qZA()()(),t.YNc(16,ut,1,2,"ng-template",null,12,t.W1O),t.qZA()),2&n){const i=t.MAs(9),u=t.MAs(12),m=t.MAs(15);t.xp6(2),t.hij(" ",t.lcZ(3,8,"Companies")," "),t.xp6(3),t.Q6J("appPerm","create_course"),t.xp6(3),t.Q6J("apiFunc",e.activeApiFunc)("lists",t.WLB(10,N,u,m)),t.xp6(3),t.Q6J("apiFunc",e.pendingApiFunc)("lists",t.WLB(13,N,i,m)),t.xp6(3),t.Q6J("apiFunc",e.banApiFunc)("lists",t.WLB(16,N,i,u))}},dependencies:[l.rH,C.$,v.Hw,Z.a8,Z.dk,M.lW,T.SP,T.uX,V,rt,f.X$],styles:[".add-btn[_ngcontent-%COMP%]{margin:0 10px}"]}),o})();var w=s(1361),mt=s(8077),dt=s(529);function _t(o,c){if(1&o&&(t.TgZ(0,"div")(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-file-input",27),t.qZA()),2&o){const n=c.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,n.key)," * "),t.xp6(2),t.Q6J("control",n.value)}}const gt=[{path:"list",component:pt},{path:"create",component:(()=>{class o{constructor(n,e,i,u,m){this.apiService=n,this.translateService=e,this.router=i,this.activatedRoute=u,this.themeService=m,this.subscription=[],this.isSending=!1}ngOnInit(){this.files=new r.cw({commercial_record_file:new r.NI(null,r.kI.required),tax_registration_certificate_file:new r.NI(null,r.kI.required),national_address_file:new r.NI(null,r.kI.required)}),this.form=new r.cw({national_id:new r.NI(null,[r.kI.required,r.kI.minLength(11),r.kI.maxLength(11),(0,w.zi)()]),email:new r.NI(null,[r.kI.required,r.kI.email]),password:new r.NI(null,[r.kI.required,r.kI.minLength(6)]),password_confirmation:new r.NI(null,r.kI.required),name_ar:new r.NI(null,r.kI.required),name_en:new r.NI(null,r.kI.required),mobile:new r.NI(null,r.kI.required),commercial_record:new r.NI(null,r.kI.required),national_address_building_no:new r.NI(null,[r.kI.required,(0,w.tt)()]),national_address_postal:new r.NI(null,[r.kI.required,(0,w.tt)()]),national_address_extra:new r.NI(null,[r.kI.required,(0,w.tt)()]),labor_office_company_id:new r.NI(null,r.kI.required),insurance_office_company_id:new r.NI(null,r.kI.required)},{validators:[(0,mt.f)("password","password_confirmation")]})}ngOnDestroy(){for(let n of this.subscription)n&&n.unsubscribe()}save(){this.isSending=!0;let n={...this.form.value},e=new FormData;for(let u in n)null!==n[u]&&(console.log(n[u]),e.append(u,n[u]));e.append("source","provider"),e.append("user_type","company");for(let u in this.files.value)null!==this.files.value[u]&&(console.log(this.files.value[u]),e.append(u,this.files.value[u],this.files.value.name));let i=d.A.provider.registerCompany;this.progress=0,this.subscription.push(this.apiService.uploadFiles(i,e).subscribe(u=>{1==u.type&&(this.progress=(u.loaded/u.total*100).toFixed(0)),u instanceof dt.Zn&&(this.isSending=!1,this.router.navigate(["/provider/companies/list"]),this.themeService.openSnackBar("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d"))},u=>this.isSending=!1))}cancel(){this.router.navigate(["/provider/candidates/list"])}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(P.s),t.Y36(f.sK),t.Y36(l.F0),t.Y36(l.gz),t.Y36(A.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create"]],decls:92,vars:85,consts:[[3,"formGroup"],[1,"row"],[1,"col-md-6","mb-4","form-group"],["for",""],["formControlName","commercial_record",3,"placeholder"],["for","email"],["formControlName","email","id","email","type","email",3,"placeholder"],["for","password"],["formControlName","password","type","password","id","password",3,"placeholder"],["for","confirmPassword"],["formControlName","password_confirmation","type","password","id","confirmPassword",3,"placeholder"],["for","nameAr"],["formControlName","name_ar","id","nameAr",3,"placeholder"],["for","nameEn"],["formControlName","name_en","id","nameEn",3,"placeholder"],["for","tel"],["formControlName","mobile","id","tel","type","tel",3,"placeholder"],["formControlName","national_address_extra",3,"placeholder"],["formControlName","national_address_building_no",3,"placeholder"],["formControlName","national_address_postal",3,"placeholder"],["formControlName","labor_office_company_id",3,"placeholder"],["formControlName","insurance_office_company_id",3,"placeholder"],[1,"mb-4","file-item"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-between"],["type","button","mat-button","",3,"click"],["mat-button","",1,"primary",3,"click"],[3,"control"]],template:function(n,e){1&n&&(t.TgZ(0,"form",0)(1,"mat-card")(2,"mat-card-subtitle"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"mat-card-content")(6,"section")(7,"div",1)(8,"div",2)(9,"label",3),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",4),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",2)(15,"label",5),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._UZ(18,"input",6),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",2)(21,"label",7),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"input",8),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",2)(27,"label",9),t._uU(28),t.ALo(29,"translate"),t.qZA(),t._UZ(30,"input",10),t.ALo(31,"translate"),t.qZA()()(),t.ynx(32),t.TgZ(33,"div",1)(34,"div",2)(35,"label",11),t._uU(36),t.ALo(37,"translate"),t.qZA(),t._UZ(38,"input",12),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",2)(41,"label",13),t._uU(42),t.ALo(43,"translate"),t.qZA(),t._UZ(44,"input",14),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",2)(47,"label",15),t._uU(48),t.ALo(49,"translate"),t.qZA(),t._UZ(50,"input",16),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"div",2)(53,"label",3),t._uU(54),t.ALo(55,"translate"),t.qZA(),t._UZ(56,"input",17),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"div",2)(59,"label",3),t._uU(60),t.ALo(61,"translate"),t.qZA(),t._UZ(62,"input",18),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"div",2)(65,"label",3),t._uU(66),t.ALo(67,"translate"),t.qZA(),t._UZ(68,"input",19),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"div",2)(71,"label",3),t._uU(72),t.ALo(73,"translate"),t.qZA(),t._UZ(74,"input",20),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"div",2)(77,"label",3),t._uU(78),t.ALo(79,"translate"),t.qZA(),t._UZ(80,"input",21),t.ALo(81,"translate"),t.qZA()(),t.TgZ(82,"div",22),t.YNc(83,_t,5,4,"div",23),t.ALo(84,"keyvalue"),t.qZA(),t.BQk(),t.qZA(),t.TgZ(85,"mat-card-actions",24)(86,"button",25),t.NdJ("click",function(){return e.cancel()}),t._uU(87),t.ALo(88,"translate"),t.qZA(),t.TgZ(89,"button",26),t.NdJ("click",function(){return e.save()}),t._uU(90),t.ALo(91,"translate"),t.qZA()()()()),2&n&&(t.Q6J("formGroup",e.form),t.xp6(3),t.hij(" ",t.lcZ(4,29,"Register Company")," "),t.xp6(7),t.hij(" ",t.lcZ(11,31,"CommercialRecord")," * "),t.xp6(2),t.Q6J("placeholder",t.lcZ(13,33,"CommercialRecord")),t.xp6(4),t.hij(" ",t.lcZ(17,35,"Email")," * "),t.xp6(2),t.Q6J("placeholder",t.lcZ(19,37,"Email")),t.xp6(4),t.hij(" ",t.lcZ(23,39,"Password")," * "),t.xp6(2),t.Q6J("placeholder",t.lcZ(25,41,"Password:Placeholder")),t.xp6(4),t.hij(" ",t.lcZ(29,43,"ConfirmPassword")," * "),t.xp6(2),t.Q6J("placeholder",t.lcZ(31,45,"ConfirmPassword:Placeholder")),t.xp6(6),t.hij(" ",t.lcZ(37,47,"ar_companyName")," * "),t.xp6(2),t.Q6J("placeholder",t.lcZ(39,49,"ar_companyName:Placeholder")),t.xp6(4),t.hij(" ",t.lcZ(43,51,"en_companyName")," * "),t.xp6(2),t.Q6J("placeholder",t.lcZ(45,53,"en_companyName:Placeholder")),t.xp6(4),t.hij(" ",t.lcZ(49,55,"Phone")," * "),t.xp6(2),t.Q6J("placeholder",t.lcZ(51,57,"Phone")),t.xp6(4),t.hij(" ",t.lcZ(55,59,"NationalAddress")," * "),t.xp6(2),t.Q6J("placeholder",t.lcZ(57,61,"NationalAddress")),t.xp6(4),t.hij(" ",t.lcZ(61,63,"BuildingNumber")," * "),t.xp6(2),t.Q6J("placeholder",t.lcZ(63,65,"BuildingNumber")),t.xp6(4),t.hij(" ",t.lcZ(67,67,"PostalCode")," * "),t.xp6(2),t.Q6J("placeholder",t.lcZ(69,69,"PostalCode")),t.xp6(4),t.hij(" ",t.lcZ(73,71,"LaborOfficeCompanyId")," "),t.xp6(2),t.Q6J("placeholder",t.lcZ(75,73,"LaborOfficeCompanyId")),t.xp6(4),t.hij(" ",t.lcZ(79,75,"InsuranceOfficeCompanyId")," "),t.xp6(2),t.Q6J("placeholder",t.lcZ(81,77,"InsuranceOfficeCompanyId")),t.xp6(3),t.Q6J("ngForOf",t.lcZ(84,79,e.files.controls)),t.xp6(4),t.hij(" ",t.lcZ(88,81,"Cancel")," "),t.xp6(3),t.hij(" ",t.lcZ(91,83,"Save")," "))},dependencies:[a.sg,q.Y,Z.a8,Z.dn,Z.$j,Z.hq,M.lW,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,U.hL,U.J5,a.Nd,f.X$],styles:["mat-card[_ngcontent-%COMP%]{padding:10px 24px;box-shadow:none!important;display:flex;flex-direction:column;height:100%}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex:1}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:24px;margin-left:-16px;margin-right:-16px;margin-bottom:0}mat-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:16px;color:var(--main-color);font-weight:700;margin-top:1.5rem!important}mat-card[_ngcontent-%COMP%]   .account-type[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='25' ry='25' stroke='%23B9CDD9' stroke-width='3' stroke-dasharray='4, 0,4' stroke-dashoffset='86' stroke-linecap='butt'/%3e%3c/svg%3e\");border-radius:25px;padding:16px}mat-card[_ngcontent-%COMP%]   .account-type[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin-top:0!important}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #EEEEEE;border-radius:8px;width:100%;transition:background .2s linear}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-color:var(--main-color)}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%]{color:var(--main-color)}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:var(--text-color)}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   div.d-flex[_ngcontent-%COMP%]{padding:16px 0}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   div.d-flex[_ngcontent-%COMP%]   .icon-type[_ngcontent-%COMP%]{color:var(--main-color);width:45px;height:45px;font-size:45px;margin-left:10px;margin-right:10px}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   div.d-flex[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;text-align:start;padding-left:10px;padding-right:10px;cursor:pointer}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   div.d-flex[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;color:var(--par-color);font-size:16px;line-height:16px}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   div.d-flex[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:transparent;display:flex;width:32px;height:32px;align-items:center;justify-content:center;border-radius:35px}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   div.d-flex[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s linear}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--main-color);border-color:var(--main-color)}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   mat-icon.icon-type[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff!important}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:var(--check-color)!important}mat-card[_ngcontent-%COMP%]   .group-radio[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;opacity:1!important}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{border-top:1px solid #EEEEEE;padding-top:20px}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px 32px;border:1px solid var(--main-color);font-size:16px;color:var(--main-color);width:150px;border-radius:100px}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]{color:#fff;background:var(--main-color)}mat-checkbox[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--main-color);text-decoration:none}"]}),o})()},{path:"",redirectTo:"list",pathMatch:"full"}];let ft=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(gt),l.Bz]}),o})();var ht=s(5754),Ct=s(4385);let vt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.ez,ft,ht.m,T.Nh,Ct.LD]}),o})()},8674:(J,y,s)=>{s.d(y,{F:()=>P});var a=s(5412),l=s(4650),d=s(3416),t=s(7392),h=s(4859);let P=(()=>{class f{constructor(C,v){this.translateService=C,this.data=v,this.header="DialogRemoveMessage",this.body="TableDeleteMessage",this.confirmBtn="Delete"}ngOnInit(){console.log(this.data),this.parent=this.data?.parent}}return f.\u0275fac=function(C){return new(C||f)(l.Y36(d.sK),l.Y36(a.WI))},f.\u0275cmp=l.Xpm({type:f,selectors:[["app-delete-dialog"]],decls:16,vars:13,consts:[["mat-dialog-title",""],["color","warn"],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close","","color","warn",3,"mat-dialog-close","click"],["mat-button","","mat-dialog-close","","cdkFocusInitial","","color","primary"]],template:function(C,v){1&C&&(l.TgZ(0,"h2",0)(1,"mat-icon",1),l._uU(2," warning "),l.qZA(),l.TgZ(3,"span"),l._uU(4),l.ALo(5,"translate"),l.qZA()(),l.TgZ(6,"div",2),l._uU(7),l.ALo(8,"translate"),l.qZA(),l.TgZ(9,"div",3)(10,"button",4),l.NdJ("click",function(){return null==v.parent?null:v.parent.delete()}),l._uU(11),l.ALo(12,"translate"),l.qZA(),l.TgZ(13,"button",5),l._uU(14),l.ALo(15,"translate"),l.qZA()()),2&C&&(l.xp6(4),l.hij(" ",l.lcZ(5,5,v.header)," "),l.xp6(3),l.hij(" ",l.lcZ(8,7,v.body),"\n"),l.xp6(3),l.Q6J("mat-dialog-close",!0),l.xp6(1),l.hij(" ",l.lcZ(12,9,v.confirmBtn)," "),l.xp6(3),l.hij(" ",l.lcZ(15,11,"Back")," "))},dependencies:[t.Hw,h.lW,a.ZT,a.uh,a.xY,a.H8,d.X$],styles:["h2[_ngcontent-%COMP%]{display:flex;align-items:center}h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}"]}),f})()},1679:(J,y,s)=>{s.d(y,{Y:()=>b});var a=s(4650),l=s(4763),d=s(6895),t=s(7392),h=s(4859),P=s(4006),f=s(4115),A=s(3416);const C=["control",""];function v(_,x){if(1&_&&(a.TgZ(0,"span",14),a._uU(1),a.qZA()),2&_){const p=a.oxw(2);a.xp6(1),a.hij(" ",p.fileSize," MB ")}}function Z(_,x){if(1&_){const p=a.EpF();a.TgZ(0,"button",15),a.NdJ("click",function(){a.CHM(p);const S=a.oxw(2),I=a.MAs(3);return a.KtG(S.deleteFile(I))}),a.TgZ(1,"mat-icon"),a._uU(2,"delete"),a.qZA()()}}function M(_,x){if(1&_&&(a.TgZ(0,"a",16)(1,"mat-icon"),a._uU(2,"download"),a.qZA()()),2&_){const p=a.oxw(2);a.Q6J("href",p.control.value,a.LSH)}}function T(_,x){if(1&_&&(a.TgZ(0,"div",8)(1,"span",9),a._uU(2),a.qZA(),a.YNc(3,v,2,1,"span",10),a.TgZ(4,"div",11),a.YNc(5,Z,3,0,"button",12),a.YNc(6,M,3,1,"a",13),a.qZA()()),2&_){const p=a.oxw();a.xp6(2),a.hij(" ",(null==p.file?null:p.file.name)||p.fileName," "),a.xp6(1),a.Q6J("ngIf",p.file),a.xp6(2),a.Q6J("ngIf",!p.control.disabled),a.xp6(1),a.Q6J("ngIf",!p.file&&p.control.value)}}let b=(()=>{class _{constructor(){this.accept="image/*",this.deleteEvent=new a.vpe,this.FormMode=l.h}ngOnInit(){this.control.value&&"string"==typeof this.control.value&&(this.fileName=this.control.value.substr(this.control.value.lastIndexOf("/")+1))}fileChanged(p){this.file=p.target.files[0],this.fileSize=(this.file.size/1e6).toFixed(2),this.control.setValue(p.target.files[0]),this.control.markAsTouched()}deleteFile(p){this.file=null,p.type="",p.type="file",this.control.setValue(null),console.log(this.control),this.deleteEvent.emit(this.control)}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=a.Xpm({type:_,selectors:[["app-file-input","control",""]],inputs:{control:"control",accept:"accept"},outputs:{deleteEvent:"deleteEvent"},attrs:C,decls:11,vars:7,consts:[[1,"data"],[1,"input-cont","form-group"],["id","file","type","file","accept","image/*",3,"change"],["input",""],[1,"d-block"],["for","file"],["type","hidden","name","fileHidden",3,"formControl"],["class","file-info d-flex align-items-center justify-content-between",4,"ngIf"],[1,"file-info","d-flex","align-items-center","justify-content-between"],[1,"file-name"],["class","file-size",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","target","_blank","type","button","download","",3,"href",4,"ngIf"],[1,"file-size"],["mat-button","",3,"click"],["mat-button","","target","_blank","type","button","download","",3,"href"]],template:function(p,O){1&p&&(a.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),a.NdJ("change",function(I){return O.fileChanged(I)}),a.qZA(),a.TgZ(4,"mat-icon",4),a._uU(5," cloud_upload "),a.qZA(),a.TgZ(6,"label",5),a._uU(7),a.ALo(8,"translate"),a.qZA(),a._UZ(9,"input",6),a.qZA(),a.YNc(10,T,7,4,"div",7),a.qZA()),2&p&&(a.ekj("has-file",!!O.control.value||O.control.disabled),a.xp6(7),a.hij(" ",a.lcZ(8,5,"StartUploadingFile")," "),a.xp6(2),a.Q6J("formControl",O.control),a.xp6(1),a.Q6J("ngIf",O.file||O.control.value||O.control.disabled))},dependencies:[d.O5,t.Hw,h.lW,h.zs,P.Fj,P.JJ,P.oH,f.J5,A.X$],styles:[".invalid-feedback[_ngcontent-%COMP%]{margin-top:-10px}[_nghost-%COMP%]     app-error{position:absolute;left:0;right:-7px;width:140px;bottom:-36px}.file-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;min-width:160px}.file-size[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem;min-width:160px}.file-info[_ngcontent-%COMP%]{flex-wrap:wrap}"]}),_})()},4763:(J,y,s)=>{s.d(y,{h:()=>a});var a=(()=>{return(l=a||(a={})).Create="Create",l.Update="Update",l.View="View",l.Delete="Delete",a;var l})()}}]);