"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4131],{4131:(F,A,s)=>{s.r(A),s.d(A,{JobApplicationsModule:()=>ut});var c=s(6895),i=s(9197),p=s(2252),h=s(9134),r=s(1511),v=s(529),u=s(4006),f=s(8746),t=s(4650),d=s(2278),g=s(5412),Z=s(3416),S=s(9242),O=s(1679),y=s(7392),C=s(4859),U=s(4115),x=s(1948),J=s(1572);function I(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),_=t.MAs(3);return t.KtG(a.openDialog(_))}),t.TgZ(1,"mat-icon",4),t._uU(2," rule "),t.qZA()()}}function L(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),_=t.MAs(5);return t.KtG(a.openDialog(_))}),t.TgZ(1,"mat-icon",4),t._uU(2," file_present "),t.qZA()()}}function w(o,l){1&o&&(t.TgZ(0,"div",18)(1,"label",19),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"textarea",20),t.qZA()),2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"RejectionReason")," * "))}function P(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"form",5),t.NdJ("ngSubmit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.save())}),t.TgZ(1,"h2",6),t._uU(2," \u0627\u062a\u062e\u0627\u0630 \u0627\u0644\u0642\u0631\u0627\u0631 "),t.qZA(),t.TgZ(3,"mat-dialog-content")(4,"section")(5,"h3"),t._uU(6,"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641 "),t.qZA(),t.TgZ(7,"div",7)(8,"div",8)(9,"h5"),t._uU(10," \u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 "),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA()(),t.TgZ(13,"div",8)(14,"h5"),t._uU(15," \u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629 "),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.qZA()(),t.TgZ(18,"div",8)(19,"h5"),t._uU(20," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a "),t.qZA(),t.TgZ(21,"p"),t._uU(22),t.qZA()(),t.TgZ(23,"div",8)(24,"h5"),t._uU(25," \u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064a\u0629 "),t.qZA(),t.TgZ(26,"p"),t._uU(27),t.qZA()(),t.TgZ(28,"div",8)(29,"h5"),t._uU(30," \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 "),t.qZA(),t.TgZ(31,"p"),t._uU(32),t.qZA()(),t.TgZ(33,"div",8)(34,"h5"),t._uU(35," \u0627\u0644\u0645\u0624\u0647\u0644 \u0627\u0644\u0639\u0644\u0645\u0649 "),t.qZA(),t.TgZ(36,"p"),t._uU(37),t.ALo(38,"translate"),t.qZA()(),t.TgZ(39,"div",8)(40,"h5"),t._uU(41," \u0627\u0644\u062c\u0646\u0633 "),t.qZA(),t.TgZ(42,"p"),t._uU(43),t.ALo(44,"translate"),t.qZA()(),t.TgZ(45,"div",8)(46,"h5"),t._uU(47," \u0627\u0644\u062d\u0627\u0644\u0629 \u0627\u0644\u0627\u062c\u0645\u0627\u0639\u064a\u0629 "),t.qZA(),t.TgZ(48,"p"),t._uU(49),t.ALo(50,"translate"),t.qZA()()()(),t.TgZ(51,"section",9)(52,"h3"),t._uU(53," \u0627\u062a\u062e\u0627\u0630 \u0627\u0644\u0642\u0631\u0627\u0631 "),t.qZA(),t.TgZ(54,"div",7)(55,"mat-radio-group",10),t.NdJ("change",function(a){t.CHM(e);const _=t.oxw();return t.KtG(_.changeValue(a.value))}),t.TgZ(56,"mat-radio-button",11),t._uU(57),t.ALo(58,"translate"),t.qZA(),t._UZ(59,"span",12),t.TgZ(60,"mat-radio-button",11),t._uU(61),t.ALo(62,"translate"),t.qZA()(),t.YNc(63,w,5,3,"div",13),t.qZA()()(),t.TgZ(64,"mat-dialog-actions",14)(65,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.form.reset())}),t._uU(66),t.ALo(67,"translate"),t.qZA(),t._UZ(68,"span",16),t.TgZ(69,"button",17),t._uU(70),t.ALo(71,"translate"),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(12),t.hij(" ",e.rowData.name_ar," "),t.xp6(5),t.hij(" ",e.rowData.name_en," "),t.xp6(5),t.hij(" ",e.rowData.email," "),t.xp6(5),t.hij(" ",e.rowData.national_id," "),t.xp6(5),t.hij(" ",e.rowData.mobile," "),t.xp6(5),t.hij(" ",t.lcZ(38,17,e.themeService.settings.QUALIFICATIONS.enum[e.rowData.qualification])," "),t.xp6(6),t.hij(" ",t.lcZ(44,19,e.themeService.settings.GENDER.enum[e.rowData.gender])," "),t.xp6(6),t.hij(" ",t.lcZ(50,21,e.themeService.settings.MARTIAL_STATUS.enum[e.rowData.martial_status])," "),t.xp6(7),t.Q6J("value",e.status.accepted),t.xp6(1),t.hij(" ",t.lcZ(58,23,"accept")," "),t.xp6(3),t.Q6J("value",e.status.rejected),t.xp6(1),t.hij(" ",t.lcZ(62,25,"reject")," "),t.xp6(2),t.Q6J("ngIf",e.form.controls.rejection_reason),t.xp6(3),t.hij(" ",t.lcZ(67,27,"Back")," "),t.xp6(3),t.Q6J("disabled",e.isSaving),t.xp6(1),t.hij(" ",t.lcZ(71,29,"Save")," ")}}function N(o,l){1&o&&t._UZ(0,"mat-spinner",27)}function R(o,l){if(1&o&&(t.ynx(0),t._UZ(1,"span",16),t.TgZ(2,"div",24),t.YNc(3,N,1,0,"mat-spinner",25),t.TgZ(4,"button",26),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.isSaving),t.xp6(1),t.Q6J("disabled",e.isSaving),t.xp6(1),t.hij(" ",e.isSaving?e.progress+"%":t.lcZ(6,3,"Save")," ")}}function Y(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"form",5),t.NdJ("ngSubmit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveFile())}),t.TgZ(1,"h2",6),t._uU(2," \u0634\u0647\u0627\u062f\u0629 \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a "),t.qZA(),t.TgZ(3,"mat-dialog-content")(4,"div",21)(5,"div")(6,"h5"),t._uU(7," \u0645\u0644\u0641 \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a * "),t.qZA(),t._UZ(8,"app-file-input",22),t.qZA()()(),t.TgZ(9,"mat-dialog-actions",14)(10,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.attachForm.reset())}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,R,7,5,"ng-container",23),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.attachForm),t.xp6(8),t.Q6J("control",e.attachForm.controls.company_file),t.xp6(3),t.hij(" ",t.lcZ(12,4,"Back")," "),t.xp6(2),t.Q6J("ngIf",!e.attachForm.controls.company_file.disabled)}}let Q=(()=>{class o{constructor(e,n,a,_){this.themeService=e,this.matDialog=n,this.translateSerivce=a,this.apiService=_}ngOnInit(){this.status=this.themeService.settings.COMPANY_REPONSE_STATUS.enum}changeValue(e){e==this.status.rejected?this.form.addControl("rejection_reason",new u.NI(null,u.kI.required)):this.form.removeControl("rejection_reason"),this.form.updateValueAndValidity()}openDialog(e){this.createForm(),this.ref=this.matDialog.open(e)}createForm(){this.form=null,this.form=new u.cw({response:new u.NI(this.status.accepted)}),this.attachForm=new u.cw({job_request_id:new u.NI(this.rowData.pivot.job_request_id),company_file:new u.NI(null,u.kI.required),emp_id:new u.NI(this.rowData.pivot.emp_id)}),this.rowData.can_attach_insurance||(this.attachForm.controls.company_file.patchValue(this.rowData.company_insurance?.company_file),this.attachForm.controls.company_file.disable())}save(){this.form.invalid||(this.isSaving=!0,this.apiService.put(r.A.company.admit_emp_request_candidate+"/"+this.rowData.pivot.id,this.form.value).pipe((0,f.x)(()=>this.isSaving=!1)).subscribe(()=>{this.ref.close(),this.parent.table.reloadTable()}))}saveFile(){if(this.attachForm.invalid)return;console.log(this.attachForm.value),this.isSaving=!0;let e=new FormData,n={...this.attachForm.value};e.append("job_request_id",n.job_request_id),e.append("emp_id",n.emp_id),n.company_file instanceof File?e.append("company_file",n.company_file,n.company_file.name):e.append("company_file",n.company_file),this.progress=0,this.apiService.uploadFiles(r.A.company.attach_insurance_file,e,"POST").subscribe(a=>{1==a.type&&(this.progress=(a.loaded/a.total*100).toFixed(0)),a instanceof v.Zn&&(this.isSaving=!1,this.themeService.openSnackBar(this.translateSerivce.instant("SavedSuccessfully"),null),this.ref.close(),this.parent.table.reloadTable())},a=>this.isSaving=!1)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.f),t.Y36(g.uw),t.Y36(Z.sK),t.Y36(S.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-applicant-actions"]],hostAttrs:[1,"list-actions-btns"],decls:6,vars:2,consts:[["mat-button","",3,"click",4,"ngIf"],["dialog",""],["dialog2",""],["mat-button","",3,"click"],["color","primary"],[3,"formGroup","ngSubmit"],["matDialogTitle",""],[1,"row"],[1,"col-md-4","mt-3"],[1,"mt-5"],["formControlName","response","color","primary",1,"d-flex","align-items-center","mt-4","mb-4",3,"change"],[3,"value"],[2,"width","50px"],["class","form-group mb-4",4,"ngIf"],["align","end",1,"actions"],["mat-button","","matDialogClose","","type","button",3,"click"],[2,"width","40px"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"form-group","mb-4"],["for","rejection_reason"],["id","rejection_reason","rows","4","formControlName","rejection_reason"],[1,"mb-4","file-item"],[3,"control"],[4,"ngIf"],[1,"d-flex","align-items-center"],["diameter","36","strokeWidth","3",4,"ngIf"],["mat-button","","type","submit",1,"primary",3,"disabled"],["diameter","36","strokeWidth","3"]],template:function(e,n){1&e&&(t.YNc(0,I,3,0,"button",0),t.YNc(1,L,3,0,"button",0),t.YNc(2,P,72,31,"ng-template",null,1,t.W1O),t.YNc(4,Y,14,6,"ng-template",null,2,t.W1O)),2&e&&(t.Q6J("ngIf",n.rowData.can_approve_candidate),t.xp6(1),t.Q6J("ngIf",n.rowData.can_attach_insurance))},dependencies:[c.O5,O.Y,y.Hw,C.lW,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,g.ZT,g.uh,g.xY,g.H8,U.hL,U.J5,x.VQ,x.U0,J.Ou,Z.X$],styles:["mat-dialog-content[_ngcontent-%COMP%]{min-width:500px;min-height:150px}h3[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0}h5[_ngcontent-%COMP%]{color:var(--label-color)}p[_ngcontent-%COMP%]{margin:0}"]}),o})();var D=s(8038),T=s(3546),b=s(4763),M=s(8796);function B(o,l){if(1&o&&(t.TgZ(0,"ng-option",15),t._uU(1),t.qZA()),2&o){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.job_title," ")}}function G(o,l){1&o&&(t.TgZ(0,"button",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Save")," "))}let q=(()=>{class o{constructor(e,n,a){this.apiService=e,this.themeService=n,this.translateSerivce=a,this.FormMode=b.h,this.isSaving=!1}ngOnInit(){this.form=new u.cw({count:new u.NI(null,[u.kI.required,u.kI.min(1)]),job_id:new u.NI(null,u.kI.required),notes:new u.NI(null)}),this.mode!==b.h.Create&&(this.form.patchValue(this.data),this.mode==b.h.View&&this.form.disable())}save(){this.form.invalid||(this.isSaving=!0,(this.mode==b.h.Create?this.apiService.post(r.A.company.emp_requests,this.form.value):this.apiService.put(r.A.company.emp_requests+"/"+this.data.id,this.form.value)).pipe((0,f.x)(()=>this.isSaving=!1)).subscribe(n=>{this.themeService.openSnackBar(this.translateSerivce.instant("SavedSuccessfully"),null),this.ref.close(!0)}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(S.s),t.Y36(d.f),t.Y36(Z.sK))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create"]],hostAttrs:[1,"app-dialog"],inputs:{data:"data",mode:"mode",ref:"ref",jobs:"jobs"},decls:26,vars:15,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],[1,"col-md-6","mb-4","form-group"],["formControlName","job_id",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["for","count"],["formControlName","count","id","count","type","number","placeholder","\u0627\u062f\u062e\u0644 \u0627\u0644\u0639\u062f\u062f \u0627\u0644\u0645\u0637\u0644\u0648\u0628"],[1,"col-12","mb-4","form-group"],["for","desc"],["formControlName","notes","id","desc","placeholder","\u0627\u062f\u062e\u0644 \u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"],["align","end",1,"actions"],["type","button","mat-button","","mat-dialog-close","",1,"cancel"],["mat-button","","cdkFocusInitial","","class","save",4,"ngIf"],[3,"value"],["mat-button","","cdkFocusInitial","",1,"save"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return n.save()}),t.TgZ(1,"h2",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-dialog-content",2)(5,"div",3)(6,"div",4)(7,"label"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"ng-select",5),t.ALo(11,"translate"),t.YNc(12,B,2,2,"ng-option",6),t.qZA()(),t.TgZ(13,"div",4)(14,"label",7),t._uU(15," \u0627\u0644\u0639\u062f\u062f \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "),t.qZA(),t._UZ(16,"input",8),t.qZA(),t.TgZ(17,"div",9)(18,"label",10),t._uU(19," \u0627\u0644\u0648\u0635\u0641 "),t.qZA(),t._UZ(20,"textarea",11),t.qZA()()(),t.TgZ(21,"mat-dialog-actions",12)(22,"button",13),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.YNc(25,G,3,3,"button",14),t.qZA()()),2&e&&(t.Q6J("formGroup",n.form),t.xp6(2),t.hij(" ",t.lcZ(3,7,n.mode)," \u0637\u0644\u0628 "),t.xp6(6),t.hij(" ",t.lcZ(9,9,"Job")," "),t.xp6(2),t.Q6J("placeholder",t.lcZ(11,11,"Job")),t.xp6(2),t.Q6J("ngForOf",n.jobs),t.xp6(11),t.hij(" ",t.lcZ(24,13,"Back")," "),t.xp6(2),t.Q6J("ngIf",n.mode!==n.FormMode.View))},dependencies:[c.sg,c.O5,C.lW,M.w9,M.jq,u._Y,u.Fj,u.wV,u.JJ,u.JL,u.sg,u.u,g.ZT,g.uh,g.xY,g.H8,U.hL,U.J5,Z.X$]}),o})();const K=["dialog"],k=["table"];function H(o,l){if(1&o&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"div",3)(3,"h3",4),t._uU(4," \u0637\u0644\u0628 \u0648\u0638\u064a\u0641\u0629 "),t.qZA(),t._UZ(5,"app-table-status",5),t.qZA()(),t.TgZ(6,"mat-card-content")(7,"div",6)(8,"div",7)(9,"h4"),t._uU(10," \u0627\u0644\u0648\u0638\u064a\u0641\u0629 "),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA()(),t.TgZ(13,"div",7)(14,"h4"),t._uU(15," \u0627\u0644\u0639\u062f\u062f \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.qZA()(),t.TgZ(18,"div",7)(19,"h4"),t._uU(20," \u062a\u0627\u0631\u064a\u062e \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0637\u0644\u0628 "),t.qZA(),t.TgZ(21,"p"),t._uU(22),t.ALo(23,"date"),t.qZA()(),t.TgZ(24,"div",8)(25,"h4"),t._uU(26," \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0637\u0644\u0628 "),t.qZA(),t.TgZ(27,"p"),t._uU(28),t.qZA()()(),t._UZ(29,"app-table",9,10),t.qZA()()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("value",e.JOB_REQEUST_STATUS[e.jobRequest.request_status]),t.xp6(7),t.hij(" ",e.jobRequest.job.job_title," "),t.xp6(5),t.hij(" ",e.jobRequest.count," "),t.xp6(5),t.hij(" ",t.xi3(23,7,e.jobRequest.created_at,"yyyy/MM/dd")," "),t.xp6(6),t.hij(" ",e.jobRequest.notes," "),t.xp6(1),t.Q6J("settings",e.settings)("apiFunc",e.apiFunc)}}function W(o,l){if(1&o&&t._UZ(0,"app-create",11),2&o){const n=l.$implicit;t.Q6J("ref",l.dialogRef)("data",n.data)("mode",n.mode)("jobs",n.jobs)}}let V=(()=>{class o{constructor(e,n,a,_,j){this.apiService=e,this.datePipe=n,this.translateService=a,this.themeService=_,this.activatedRoute=j,this.apiFunc=(m={})=>this.apiService.get(r.A.company.list_emp_request_nominations+"/"+this.activatedRoute.snapshot.params.applicationId,m)}ngOnInit(){this.JOB_REQEUST_STATUS=this.themeService.settings.JOB_REQEUST_STATUS.enum,console.log(this.JOB_REQEUST_STATUS),this.apiService.get(r.A.company.emp_requests+"/"+this.activatedRoute.snapshot.params.applicationId).subscribe(e=>{this.jobRequest=e.JobRequest,this.settings={columns:{name:{title:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641",type:p.Jm.Text,filter:!1,valuePrepareFunction:(n,a)=>a.name_ar},created_at:{title:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0631\u0634\u064a\u062d",type:p.Jm.Text,filter:!1,valuePrepareFunction:()=>this.datePipe.transform(this.jobRequest.created_at,"yyyy/MM/dd")},company_response_status:{title:"\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0634\u0631\u0643\u0629",type:p.Jm.Custom,filter:!1,renderComponent:h.p,valuePrepareFunction:(n,a)=>a.pivot.company_response_status,onComponentInitFunction:n=>{n.statusEnum=this.themeService.settings.COMPANY_REPONSE_STATUS.enum}},emp_response_status:{title:"\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u0648\u0638\u0641",type:p.Jm.Custom,renderComponent:h.p,filter:!1,valuePrepareFunction:(n,a)=>a.pivot.emp_response_status,onComponentInitFunction:n=>{n.statusEnum=this.themeService.settings.EMPLOYEE_REPONSE_STATUS.enum}},status:{title:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0631\u0634\u062d",type:p.Jm.Custom,renderComponent:h.p,filter:!1,valuePrepareFunction:(n,a)=>a.pivot.status,onComponentInitFunction:n=>{n.statusEnum=this.themeService.settings.JOB_REQUEST_CANDIDATE_STATUS.enum}},actions:{title:this.translateService.instant("Options"),type:p.Jm.Custom,renderComponent:Q,sort:!1,filter:!1,onComponentInitFunction:n=>{console.log(n),n.parent=this}}}}})}save(e,n){this.apiService.put(r.A.company.admit_emp_request_candidate+"/"+e.pivot.id,n).subscribe(a=>{this.table.reloadTable()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(S.s),t.Y36(c.uU),t.Y36(Z.sK),t.Y36(d.f),t.Y36(i.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-applicants-list"]],viewQuery:function(e,n){if(1&e&&(t.Gf(K,5),t.Gf(k,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.dialog=a.first),t.iGM(a=t.CRH())&&(n.table=a.first)}},features:[t._Bn([c.uU])],decls:6,vars:1,consts:[[1,"card-cont"],[4,"ngIf"],["dialog",""],[1,"d-flex","align-items-center","justify-content-between"],[1,"m-0"],[3,"value"],[1,"row"],[1,"col-md-4","mb-4"],[1,"col-md-6","mb-4"],[3,"settings","apiFunc"],["table",""],[3,"ref","data","mode","jobs"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"h2"),t._uU(2," \u062a\u0631\u0634\u064a\u062d\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646 "),t.qZA(),t.YNc(3,H,31,10,"mat-card",1),t.qZA(),t.YNc(4,W,1,4,"ng-template",null,2,t.W1O)),2&e&&(t.xp6(3),t.Q6J("ngIf",n.settings))},dependencies:[c.O5,D.a,h.p,T.a8,T.dk,T.dn,q,c.uU],styles:["mat-card[_ngcontent-%COMP%]   app-table-status[_ngcontent-%COMP%]{width:125px}mat-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--h-color);font-family:arial}mat-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px}"]}),o})();var X=s(8674);const $=function(o){return["/company/job-applications",o,"applicants"]};let z=(()=>{class o{constructor(){this.FormMode=b.h}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-actions"]],hostAttrs:[1,"list-actions-btns"],decls:12,vars:3,consts:[["mat-button","","target","_blank",1,"me-2",3,"routerLink"],["color","primary"],["mat-button","",1,"me-2",3,"click"],["color","warn"],["mat-button","",3,"click"],[1,"eye"]],template:function(e,n){1&e&&(t.TgZ(0,"a",0)(1,"mat-icon",1),t._uU(2,"description"),t.qZA()(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.parent.openDialog(n.rowData,n.FormMode.Update)}),t.TgZ(4,"mat-icon",1),t._uU(5,"edit"),t.qZA()(),t.TgZ(6,"button",2),t.NdJ("click",function(){return n.parent.popDelete(n.rowData)}),t.TgZ(7,"mat-icon",3),t._uU(8,"delete"),t.qZA()(),t.TgZ(9,"button",4),t.NdJ("click",function(){return n.parent.openDialog(n.rowData,n.FormMode.View)}),t.TgZ(10,"mat-icon",5),t._uU(11,"visibility"),t.qZA()()),2&e&&t.Q6J("routerLink",t.VKq(1,$,n.rowData.id))},dependencies:[i.yS,y.Hw,C.lW,C.zs]}),o})();const tt=["dialog"],et=["table"];function nt(o,l){if(1&o&&t._UZ(0,"app-create",6),2&o){const n=l.$implicit;t.Q6J("ref",l.dialogRef)("data",n.data)("mode",n.mode)("jobs",n.jobs)}}const ot=[{path:"",component:(()=>{class o{constructor(e,n,a,_,j){this.matDialog=e,this.apiService=n,this.datePipe=a,this.translateService=_,this.themeService=j,this.apiFunc=(m={})=>this.apiService.get(r.A.company.emp_requests,m),this.settings={columns:{job:{title:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0648\u0638\u064a\u0641\u0629",filter:!0,type:p.Jm.Text,valuePrepareFunction:(m,E)=>m.job_title},count:{title:"\u0627\u0644\u0639\u062f\u062f \u0627\u0644\u0645\u0637\u0644\u0648\u0628",type:p.Jm.Text,filter:!1},candidates:{title:"\u0639\u062f\u062f \u0627\u0644\u0645\u062a\u0642\u062f\u0645\u064a\u0646",type:p.Jm.Text,sort:!1,filter:!1,valuePrepareFunction:(m,E)=>m.length},created_at:{title:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0637\u0644\u0628",filter:!1,type:p.Jm.Text,valuePrepareFunction:(m,E)=>this.datePipe.transform(m,"yyyy/MM/dd")},request_status:{title:"\u0627\u0644\u062d\u0627\u0644\u0629",type:p.Jm.Custom,renderComponent:h.p,sort:!1,filter:!1,onComponentInitFunction:m=>m.statusEnum=this.themeService.settings.JOB_REQEUST_STATUS.enum},actions:{title:this.translateService.instant("Options"),type:p.Jm.Custom,renderComponent:z,sort:!1,filter:!1,onComponentInitFunction:m=>{console.log(m),m.parent=this}}}}}ngOnInit(){this.apiService.get(r.A.employee.jobs).subscribe(e=>this.jobs=e.jobs)}popDelete(e){this.rowToDelete=e.id,this.matDialog.open(X.F,{data:{parent:this}})}delete(){console.log("deleting user"),this.apiService.delete(r.A.company.emp_requests+"/"+this.rowToDelete).subscribe(e=>{this.themeService.openSnackBar("DeleteSuccessMSG",null),this.table.reloadTable()})}openDialog(e=null,n=b.h.Create){this.matDialog.open(this.dialog,{data:{data:e,mode:n,jobs:this.jobs}}).afterClosed().subscribe(_=>{this.table.reloadTable()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.uw),t.Y36(S.s),t.Y36(c.uU),t.Y36(Z.sK),t.Y36(d.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list"]],viewQuery:function(e,n){if(1&e&&(t.Gf(tt,5),t.Gf(et,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.dialog=a.first),t.iGM(a=t.CRH())&&(n.table=a.first)}},features:[t._Bn([c.uU])],decls:16,vars:2,consts:[[1,"card-cont"],[1,"d-flex","align-items-center","justify-content-between"],["mat-raised-button","",1,"add-btn",3,"click"],[3,"settings","apiFunc"],["table",""],["dialog",""],[3,"ref","data","mode","jobs"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"h2"),t._uU(2," \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0648\u0638\u0627\u0626\u0641 "),t.qZA(),t.TgZ(3,"mat-card")(4,"mat-card-header")(5,"div",1),t._UZ(6,"div"),t.TgZ(7,"button",2),t.NdJ("click",function(){return n.openDialog()}),t.TgZ(8,"mat-icon"),t._uU(9,"add"),t.qZA(),t._uU(10," \u0627\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 "),t.qZA()()(),t.TgZ(11,"mat-card-content"),t._UZ(12,"app-table",3,4),t.qZA()()(),t.YNc(14,nt,1,4,"ng-template",null,5,t.W1O)),2&e&&(t.xp6(12),t.Q6J("settings",n.settings)("apiFunc",n.apiFunc))},dependencies:[D.a,y.Hw,T.a8,T.dk,T.dn,C.lW,q]}),o})()},{path:":applicationId/applicants",component:V},{path:"",redirectTo:"list",pathMatch:"full"}];let at=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[i.Bz.forChild(ot),i.Bz]}),o})();var it=s(5754),st=s(7331);let ut=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,at,it.m,st.Hi,x.Fk,J.Cq]}),o})()},8674:(F,A,s)=>{s.d(A,{F:()=>v});var c=s(5412),i=s(4650),p=s(3416),h=s(7392),r=s(4859);let v=(()=>{class u{constructor(t,d){this.translateService=t,this.data=d,this.header="DialogRemoveMessage",this.body="TableDeleteMessage",this.confirmBtn="Delete"}ngOnInit(){console.log(this.data),this.parent=this.data?.parent}}return u.\u0275fac=function(t){return new(t||u)(i.Y36(p.sK),i.Y36(c.WI))},u.\u0275cmp=i.Xpm({type:u,selectors:[["app-delete-dialog"]],decls:16,vars:13,consts:[["mat-dialog-title",""],["color","warn"],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close","","color","warn",3,"mat-dialog-close","click"],["mat-button","","mat-dialog-close","","cdkFocusInitial","","color","primary"]],template:function(t,d){1&t&&(i.TgZ(0,"h2",0)(1,"mat-icon",1),i._uU(2," warning "),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"div",2),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"div",3)(10,"button",4),i.NdJ("click",function(){return null==d.parent?null:d.parent.delete()}),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.TgZ(13,"button",5),i._uU(14),i.ALo(15,"translate"),i.qZA()()),2&t&&(i.xp6(4),i.hij(" ",i.lcZ(5,5,d.header)," "),i.xp6(3),i.hij(" ",i.lcZ(8,7,d.body),"\n"),i.xp6(3),i.Q6J("mat-dialog-close",!0),i.xp6(1),i.hij(" ",i.lcZ(12,9,d.confirmBtn)," "),i.xp6(3),i.hij(" ",i.lcZ(15,11,"Back")," "))},dependencies:[h.Hw,r.lW,c.ZT,c.uh,c.xY,c.H8,p.X$],styles:["h2[_ngcontent-%COMP%]{display:flex;align-items:center}h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}"]}),u})()},9134:(F,A,s)=>{s.d(A,{p:()=>h});var c=s(4650),i=s(7331),p=s(3416);let h=(()=>{class r{ngOnInit(){this._value=this.statusEnum&&this.statusEnum[this.value]?this.statusEnum[this.value]:this.value}}return r.\u0275fac=function(u){return new(u||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-table-status"]],hostAttrs:[1,"status"],inputs:{statusEnum:"statusEnum",value:"value"},decls:4,vars:5,template:function(u,f){1&u&&(c.TgZ(0,"mat-chip-list")(1,"mat-chip"),c._uU(2),c.ALo(3,"translate"),c.qZA()()),2&u&&(c.xp6(1),c.Tol(f._value),c.xp6(1),c.hij(" ",c.lcZ(3,3,f._value)," "))},dependencies:[i.qn,i.HS,p.X$]}),r})()}}]);